function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t){if(Array.isArray(t))return e(t)}function n(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function l(e){n(a,o,i,l,u,"next",e)}function u(e){n(a,o,i,l,u,"throw",e)}l(void 0)}))}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return t(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}var d=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};import s,{useContext as p,useEffect as f}from"react";import{Handle as m,Position as v,useEdges as g,useReactFlow as y}from"reactflow";import h from"react";function x(e){return h.createElement("input",a(i({},e),{style:i({fontFamily:"Jost-Regular",padding:"8px",borderRadius:"5px",border:"1px solid #CCCCCC",display:"flex",flex:1,width:"100%",boxSizing:"border-box"},e.style)}),e.children)}import b from"react";function E(e){return b.createElement("span",a(i({},e),{style:i({fontFamily:"Jost-Regular",margin:"4px",fontSize:"14px"},e.style),title:e.children}),e.children)}import w,{memo as k,useContext as C}from"react";import{v4 as D}from"uuid";var S=function(e,t,n,r){return{id:D(),source:e,sourceHandle:t,target:n,targetHandle:r,animated:!1,type:"custom"}},T=function(e,t,n,r){return!!r.find((function(r){return r.sourceHandle==B(e)+n+t||r.targetHandle==B(e)+n+t}))};import N from"prettier/parser-typescript.js";import P from"prettier/standalone.js";import{v4 as O}from"uuid";var F=function(){return O().replace(/-/g,"")},I=function(e,t,n,r,o,i,a){var l={id:null!=n?n:F(),position:{x:e[0],y:e[1]},data:null!=r?r:{},type:t,deletable:null==o||o,width:360,height:300};return to[t]&&to[t].onCreate?to[t].onCreate(l,i,a):[l]};function W(e,t,n,r){var o=r(e,n);if(!o)return"";var i=to[o.type];i.type&&(i=i.type);var a=i.dump(o,e,t,n,null,!0);console.log("RAW CODE WITH MARKERS BEFORE LINTING: ",a);var l=j(a);if(console.log("Validated code with markers: ",l),l){console.log("compiled without errors, generate the final code without positional markers");var u=j(i.dump(o,e,t,n));return console.log("Final code without markers: ",u),u}return""}function j(e){return P.format(e,{quoteProps:"consistent",parser:"typescript",plugins:[N]})}function B(e){try{return e.getKindName()+"_"+e._compilerNode.pos+"_"+e._compilerNode.end}catch(t){return e}}var A={flow:"_",data:"-"},M={prop:["JsxExpression"],expression:["ArrowFunction","CallExpression","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression"],child:["Block","JsxElement","JsxFragment","JsxSelfClosingElement"],incrementor:["BinaryExpression"],initializer:["letNode","varNode"],condition:["BinaryExpression","CallExpression"],declarationName:["ObjectBindingPattern"],accessName:["BinaryExpression","CallExpression","ElementAccessExpression"],setLeft:["ElementAccessExpression"],left:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],right:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],to:["ElementAccessExpression"],param:["ArrowFunction","BinaryExpression","CallExpression","Function","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression","ParenthesizedExpression"],name:["ElementAccessExpression"],value:["ArrayLiteralExpression","ElementAccessExpression"],block:[],request:["Block","CallExpression"]};function z(e,t,n,r,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[A.data,A.data];try{var u=B(e),c=B(n),d=o[u],s=o[c];if(d||(d={type:"node",value:{id:u}}),s||(s={type:"node",value:{id:c}}),"node"==d.type){a.push(S(d.value.id,"".concat(d.value.id).concat(l[0]).concat(t),s.value.id,"".concat(s.value.id).concat(l[1]).concat(r)));var p=to[u.split("_")[0]];if(!p)return"";p=p.type?p.type:p;var f=Object.keys(o).filter((function(e){return o[e]&&"node"==o[e].type})).map((function(e){return o[e].value}));return p.dump({id:u,type:u.split("_")[0]},f,a,i).replace(/(\r\n|\n|\r)/gm,"")}return d?d.value:""}catch(o){return console.error("Error connecting nodes: ",o,e,t,n,r),""}}function R(e,t,n,r,o,i,a,l){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d="source"==t?"sourceHandle":"targetHandle",s=i.find((function(t){return t[d]==e.id+r+n&&t.source}));if(s){var p=a.find((function(e){return e.id==("target"==t?s.source:s.target)}));if(!p)return o;var f=to[p.type];f.type&&(f=f.type);var m=c?"/* JSFLOWID("+(p&&p.id?p.id:"")+") */":"";if(f)return m+f.dump(p,a,i,l,u,c)}return o}import L,{useContext as H}from"react";import{createContext as K}from"react";import J from"zustand";import _ from"immer";var V=function(){return J((function(e,t){return{errorData:{},nodeData:{},customComponents:[],initialEdges:[],initialNodes:[],saveStatus:null,menuState:"closed",menuPosition:[0,0],menuOpener:"",themeMode:"light",dataNotify:function(){},setDataNotify:function(t){return e(_((function(e){e.dataNotify=t})))},clearError:function(){return e(_((function(e){e.errorData={}})))},setError:function(t){return e(_((function(e){e.errorData={id:t}})))},setMenu:function(t,n,r){return e(_((function(e){e.menuState=t,e.menuPosition=n||[-5e3,-5e3],e.menuOpener=r||""})))},setInitialEdges:function(t){return e(_((function(e){e.initialEdges=t})))},setInitialNodes:function(t){return e(_((function(e){e.initialNodes=t})))},setCustomComponents:function(t){return e(_((function(e){e.customComponents=t})))},appendCustomComponents:function(t){return e(_((function(e){t.forEach((function(t){(function(e,t){return e.some((function(e){return e.id===t.id}))})(e.customComponents,t)||e.customComponents.push(t)}))})))},setNodeData:function(n,r){return e(_((function(e){e.nodeData=a(i({},t().nodeData),o({},n,i({},t().nodeData[n],r)))})))},setNodesData:function(t){return e(_((function(e){e.nodeData=t})))},deletePropNodeData:function(n,r){return e(_((function(e){var l=i({},t().nodeData[n]);Object.keys(l).includes(r)?(delete l[r],e.nodeData=a(i({},t().nodeData),o({},n,i({},l)))):(console.error('Error deleting the following "Property Node Data": '+n),e.nodeData=i({},t().nodeData))})))},clearNodesData:function(){return e(_((function(e){var n={},r=Object.keys(t().nodeData).filter((function(e){return!(e.startsWith("Object")||e.startsWith("ArrowFunction")||e.startsWith("TypeAliasDeclaration")||e.startsWith("InterfaceDeclaration")||e.startsWith("ObjectBindingPattern")||e.startsWith("JsxElement")||e.startsWith("JsxExpression")||e.startsWith("PropertyAssignment")||e.startsWith("FunctionDeclaration"))}));r.forEach((function(e){n[e]=t().nodeData[e]})),e.nodeData=n})))},setSaveStatus:function(t){return e(_((function(e){e.saveStatus=t})))},setTemeMode:function(t){return e(_((function(e){e.themeMode=t})))}}}))},q=K(V());import X from"react";import{useContext as U}from"react";var Y={light:{edgeColor:"#777",nodeBackgroundColor:"white",inputBackgroundColor:"white",inputBorder:"1px solid #ccc",textColor:"black",interactiveColor:"#4fc2f7",interactiveHoverColor:"rgba(79, 194, 247, 0.1)"},dark:{edgeColor:"#e5e5e5",nodeBackgroundColor:"#303030",inputBackgroundColor:"#404040",inputBorder:"0",textColor:"#e5e5e5",interactiveColor:"#4772b3",interactiveHoverColor:"#252525"}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=U(q)((function(e){return e.themeMode}));try{return Y[n][e]}catch(e){return t}};var G=function(e){var t=e.onPress,n=e.label,r=e.style,o=void 0===r?{}:r,u={width:"50%",margin:"15px",border:"0px solid transparent",borderRadius:"8px",color:Z("interactiveColor"),padding:"10px 15px",cursor:"pointer",transition:"background-color 0.3s ease",display:"flex",position:"relative",alignSelf:"center",textAlign:"center",alignItems:"stretch",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",textDecoration:"none",zIndex:"0",fontFamily:"Jost-Regular"},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=l(X.useState(t),2),o=r[0],u=r[1];return{style:a(i({},o),{customStyle:n}),onMouseEnter:function(){return u(e)},onMouseLeave:function(){return u(t)}}}(a(i({},u),{backgroundColor:Z("interactiveHoverColor")}),a(i({},u),{backgroundColor:"transparent"}),o);return X.createElement("div",{style:{display:"flex",justifyContent:"center"}},X.createElement("button",i({onClick:t},c),n))},Q=function(e){var t=e.nodeData,n=e.id,r=e.type,l=void 0===r?"Param":r,u=e.style,c=void 0===u?{}:u,d=H(q)((function(e){return e.setNodeData})),s={Attribute:"attr",Method:"meth",Case:"case",Element:"element",Import:"import",param:"param",Prop:"prop",Child:"child"};return L.createElement(G,{onPress:function(){var e,r,u=s[l]||"param";"child"==u&&(e=(null===(r=Object.keys(t))||void 0===r?void 0:r.filter((function(e){return e.startsWith("child-")})).length)+1);d(n,a(i({},t),o({},"".concat(u,"-").concat(null!=e?e:F()),"")))},label:"Add ".concat(l),style:c})};import{MdAirlineStops as $}from"react-icons/md";var ee=function(e){var t,n=e.id,r=e.type,o=C(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("param")})),a=[{label:"To",field:"to",type:"input",description:"Identifier name. Leave empty to access current scope"}].concat(i.map((function(e,t){return{label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0}})));return w.createElement(vi,{icon:$,node:e,isPreview:!n,title:(o.to?o.to:"x")+"("+i.map((function(e){return o[e]?o[e]:"..."})).join(",")+")",id:n,color:ro[r]},w.createElement(fi,{id:n,params:a}),w.createElement(Q,{id:n,nodeData:o}))};ee.keyWords=["call"],ee.getData=function(e,t,n,r){return i({to:z(e.getExpression(),"output",e,"to",t,n,r)},e.getArguments().reduce((function(l,u,c){return a(i({},l),o({},"param"+(c+1),z(u,"output",e,"param"+(c+1),t,n,r)))}),{}))},ee.dump=function(e,t,n,r){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=null!==(o=r[e.id])&&void 0!==o?o:{},c=Object.keys(u).sort().filter((function(e){return e.startsWith("param")})).sort((function(e,t){return e.localeCompare(t,"en",{numeric:!0})})).reduce((function(o,i){var c,d=u._fallBack?u._fallBack.find((function(e){return e.port==i})):null;if(d){var s=R(e,d.type,d.fallbackPort,d.portType,null,n,t,r,a,l);c=s?d.preText+s+d.postText:d.fallbackText}else{var p;c=R(e,"target",i,A.data,null!==(p=u[i])&&void 0!==p?p:"",n,t,r,a,l)}return o+(c+", ")}),"");return R(e,"target","to",A.data,null!==(i=null==u?void 0:u.to)&&void 0!==i?i:"",n,t,r,a,l)+"("+c+")\n"+R(e,"source","output",A.flow,"",n,t,r,a,l)};var te=k(ee);import ne,{memo as re,useContext as oe}from"react";import{MdOutlineCalculate as ie}from"react-icons/md";import{TbEqual as ae}from"react-icons/tb";import{useEdges as le}from"reactflow";var ue=function(e){var t=function(e){return"="==e?"setLeft":"left"},n=function(n){var r,o,i,a=n.id,l=n.type,u=oe(q)((function(e){return null!==(r=e.nodeData[a])&&void 0!==r?r:{}})),c=le(),d={"+":"operator","-":"operator","*":"operator","/":"operator","%":"operator","<=":"operator","==":"operator","===":"operator","!=":"operator","!==":"operator",">=":"operator","||":"operator","&&":"operator","|":"operator","&":"operator",">":"operator","<":"operator","**":"operator","**=":"operator","-=":"operator","+=":"operator","/=":"operator","*=":"operator","=":"set",".":"property",instanceof:"operator","??":"operator"}[null!==(o=u.operator)&&void 0!==o?o:e],s=null!==(i=u.operator)&&void 0!==i?i:e,p=[{label:"operator"==d?"Value":"Variable",field:t(s),type:"input",fieldType:u.leftType}];return"operator"==d&&p.push({field:"operator",type:"select",data:["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","instanceof",""],static:!0}),p.push({label:{operator:"Value",set:"Value",property:"Property"}[d],field:"right",type:"input",fieldType:u.rightType}),ne.createElement(vi,{icon:"operator"==d?ie:ae,node:n,isPreview:!a,title:"operator"==d?(!di(a,t(s),c)&&u[t(s)]?u[t(s)]:"...")+(u.operator?" "+u.operator+" ":" + ")+(!di(a,"right",c)&&u.right?u.right:"..."):d,id:a,params:p,color:ro[l]})};return n.keyWords=["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","set","operator","set","property","instanceof"],n.getData=function(e,n,r,i){var a,l=e.getOperatorToken().getText();return o(a={operator:l},t(l),z(e.getLeft(),"output",e,t(l),n,r,i)),o(a,"right",z(e.getRight(),"output",e,"right",n,r,i)),o(a,"leftType",e.getLeft().getKindName()),o(a,"rightType",e.getRight().getKindName()),a},n.dump=function(n,r,o,i){var a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=i[n.id],d=null!==(a=c.operator)&&void 0!==a?a:e;return R(n,"target",t(d),A.data,c[t(d)],o,r,i,l,u)+" "+d+" "+R(n,"target","right",A.data,c.right,o,r,i,l,u)+"\n"+R(n,"source","output",A.flow,"",o,r,i,l,u)},n};re(ue("+"));import ce,{memo as de,useContext as se}from"react";import{TbEqual as pe}from"react-icons/tb";import{useEdges as fe}from"reactflow";var me=function(e){var t=function(t){var n,r,o,i,a=t.id,l=t.type,u=se(q)((function(e){return null!==(n=e.nodeData[a])&&void 0!==n?n:{}})),c=fe(),d=[{label:"Variable",field:"declarationName",type:"input",static:"const"!=e},{label:"Value",field:"value",type:"input"},{label:"Export",field:"export",type:"boolean",static:!0}];return ce.createElement(vi,{icon:pe,node:t,isPreview:!a,title:((null==u?void 0:u.export)?"export ":"")+(null!==(r=u.type)&&void 0!==r?r:e)+" "+(null!==(o=null==u?void 0:u.declarationName)&&void 0!==o?o:"")+(!di(a,"value",c)&&(null==u?void 0:u.value)?" = "+(null==u?void 0:u.value):""),id:a,params:d,color:null!==(i=ro[u.type+"Node"])&&void 0!==i?i:ro[l]})};return t.keyWords=["const","let","var"],t.getData=function(e,t,n,r){var o,i=e.getChildren()[0].getText(),a=e.getDeclarations().map((function(e){return null==e?void 0:e.getChildAtIndex(0)})),l=null===(o=e.getDeclarations().find((function(e){return null==e?void 0:e.getInitializer()})))||void 0===o?void 0:o.getInitializer();return{type:i,declarationName:(null==a?void 0:a.length)<2?z(a[0],"output",e,"declarationName",t,n,r):a.map((function(e){return null==e?void 0:e.getText()})).join(","),value:l?z(l,"output",e,"value",t,n,r):"",export:!!e.getParent().getModifiers&&!!e.getParent().getModifiers().find((function(e){return"export"==e.getText()}))}},t.dump=function(t,n,r,o){var i,a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=o[t.id],d=R(t,"target","value",A.data,null!==(i=null==c?void 0:c.value)&&void 0!==i?i:"",r,n,o,l,u);return c.declarationName?(c.export?"export ":"")+(null!==(a=c.type)&&void 0!==a?a:e)+" "+c.declarationName+(""===d||void 0===d?"\n":" = "+d+"\n")+R(t,"source","output",A.flow,"",r,n,o,l,u):""},t},ve=de(me("const"));import ge,{memo as ye}from"react";var he=function(e){e.id,e.type;return ge.createElement(ge.Fragment,null)};he.getData=function(e,t,n){var r=e.getStatements?e.getStatements():e.getDeclarations();return r.forEach((function(e,o){if(o<r.length-1){var i=t[B(e)],a=t[B(r[o+1])];if("node"==i.type&&"node"==a.type){var l=i.value.id,u=a.value.id;n.push(S(l,"".concat(l).concat(A.flow,"output"),u,"".concat(u).concat(A.flow,"input")))}}})),t[B(r[0])]},he.shadow=!0;var xe=ye(he);import be,{memo as Ee}from"react";import{BiTargetLock as we}from"react-icons/bi";var ke=function(e){var t=e.id,n=e.type;return be.createElement(vi,{icon:we,node:e,isPreview:!t,title:"property",color:ro[n],id:t,params:[{label:"Name",field:"name",type:"input"},{label:"Property",field:"prop",type:"input"}]})};ke.keyWords=["property"],ke.getData=function(e,t,n,r){var o=e.getNameNode(),i=e.getExpression();return"data"==t[B(i)].type&&"data"==t[B(o)].type?{type:"data",value:t[B(i)].value+"."+t[B(o)].value}:{name:z(o,"output",e,"name",t,n,r),prop:z(i,"output",e,"prop",t,n,r)}},ke.checkCreate=function(e,t){return"data"!=t[B(e)].type},ke.dump=function(e,t,n,r){var o,i,a,l,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=r[e.id],s=null!==(i=R(e,"target","name",A.data,null!==(o=null==d?void 0:d.name)&&void 0!==o?o:"",n,t,r,u,c))&&void 0!==i?i:"";return(null!==(l=R(e,"target","prop",A.data,null!==(a=null==d?void 0:d.prop)&&void 0!==a?a:"",n,t,r,u,c))&&void 0!==l?l:"")+"."+s+"\n"+R(e,"source","output",A.flow,"",n,t,r,u,c)};var Ce=Ee(ke);import De,{memo as Se,useContext as Te}from"react";import{SyntaxKind as Ne}from"ts-morph";import{TbMathIntegralX as Pe}from"react-icons/tb";var Oe=function(e){var t,n=e.id,r=e.type,o="ArrowFunction"==r,i=Te(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),a=(o?[]:[{label:"Name",static:!0,field:"name",type:"input",description:"Function name"}]).concat(Object.keys(i).filter((function(e){return e.startsWith("param-")})).map((function(e,t){return{label:i[e].isBindingPattern?"".concat("Params["+(t+1)+"]"):e.substr(6),field:e,fieldType:"parameter",deleteable:!0}})));return De.createElement(vi,{icon:Pe,node:e,isPreview:!n,title:o?"=>":"function",id:n,color:ro[r]},De.createElement(fi,{id:n,params:[{label:"Call",field:"call",fieldType:"call",type:"input"}]}),"FunctionExpression"!=r?De.createElement(De.Fragment,null,De.createElement(fi,{id:n,params:[{label:"Async",field:"async",type:"boolean",static:!0}],boxStyle:{marginTop:"40px"}}),De.createElement(fi,{id:n,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),i.export?De.createElement(fi,{id:n,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null):De.createElement("div",{style:{marginTop:"26px"}}),De.createElement(fi,{id:n,params:a}),De.createElement(Q,{id:n,nodeData:i}))};Oe.keyWords=["function","=>","arrow"],Oe.getData=function(e,t,n,r){var l=z(B(e.getBody()),"output",e,"call",t,n,r,[A.data,A.flow]);return i({},e.getParameters().reduce((function(l,u,c){var d,s=F(),p=u.getInitializer(),f=u.getName(),m=u.getType().getAliasSymbol()?null===(d=null==u?void 0:u.getType())||void 0===d?void 0:d.getText():"",v=!!u.getDescendantsOfKind(Ne.ObjectBindingPattern).length;return v&&(f=u.getDescendantsOfKind(Ne.ObjectBindingPattern)[0]),a(i({},l),o({},"param-"+s,{key:v?z(f,"output",e,"param-"+s,t,n,r):u.getName(),value:p?z(p,"output",e,"param-"+s,t,n,r):"",isBindingPattern:v,type:m}))}),{name:e.getName&&null!=e.getName()?e.getName():"",export:!!e.getModifiers&&!!e.getModifiers().find((function(e){return"export"==e.getText()})),isDefault:!!e.getModifiers&&!!e.getModifiers().find((function(e){return"default"==e.getText()})),async:!!e.getModifiers().find((function(e){return"AsyncKeyword"==e.getKindName()})),call:l}))},Oe.dump=function(e,t,n,r){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=null!==(o=r[e.id])&&void 0!==o?o:{},c=Object.keys(u).filter((function(e){return e.startsWith("param")})).reduce((function(o,i){var c;if(u[i].isBindingPattern){c=R(e,"target",i,A.data,u[i].value,n,t,r,a,l)+(u[i].type?":".concat(u[i].type):"")+","}else{var d=R(e,"target",i+"-key",A.data,u[i].key,n,t,r,a,l),s=R(e,"target",i,A.data,u[i].value,n,t,r,a,l);c=d+(u[i].type?":".concat(u[i].type):"")+(s?"="+s:"")+","}return o+c}),""),d=R(e,"target","call",A.flow,null!==(i=u.call)&&void 0!==i?i:"{}",n,t,r,a,l),s=(u.export?"export ":"")+(u.export&&u.isDefault?"default ":"")+(u.async?"async ":"");if("ArrowFunction"==e.type)s+="("+c+") => "+d+"\n";else{var p=!d.startsWith("{");s+="function "+u.name+"("+c+") "+(p?"{":"")+d+(p?"}":"")}return s+R(e,"source","output",A.flow,"",n,t,r,a,l)};var Fe=Se(Oe);import Ie,{memo as We}from"react";var je=function(e){e.id,e.type;return Ie.createElement(Ie.Fragment,null)};je.getData=function(e,t,n){var r=e.getInitializer();return r?t[B(r)]:{type:"data",value:""}},je.shadow=!0;var Be=We(je);import Ae,{memo as Me}from"react";var ze=!1,Re="LEFT";import{MdAltRoute as Le}from"react-icons/md";var He=function(e){var t=e.id,n=e.type;return Ae.createElement(vi,{icon:Le,container:ze,node:e,isPreview:!t,title:"if",id:t,color:ro[n]},Ae.createElement(fi,{id:t,params:[{label:"Condition",field:"condition",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"20px"}}),Ae.createElement("div",{style:{height:"60px"}}),Ae.createElement(mi,{id:t,type:"input",label:"Then",style:{top:"100px"},handleId:"then"}),Ae.createElement(mi,{id:t,type:"input",label:"Else",style:{top:"142px"},handleId:"else"}))};He.keyWords=["if"],He.getData=function(e,t,n,r){B(e);var o,i,a,l,u=null===(o=t[B(e.getThenStatement())])||void 0===o||null===(i=o.value)||void 0===i?void 0:i.id,c=null===(a=t[B(e.getElseStatement())])||void 0===a||null===(l=a.value)||void 0===l?void 0:l.id;return u&&z(u,"output",e,"then",t,n,r,[A.data,A.flow]),c&&z(c,"output",e,"else",t,n,r,[A.data,A.flow]),{condition:z(e.getExpression(),"output",e,"condition",t,n,r)}},He.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id],u=R(e,"target","condition",A.data,null!==(o=null==l?void 0:l.condition)&&void 0!==o?o:"",n,t,r,i,a),c=R(e,"target","then",A.flow,"",n,t,r,i,a),d=R(e,"target","else",A.flow,"",n,t,r,i,a),s="";return d&&(s="else "+d),"if("+u+")"+c+"\n"+s+"\n"+R(e,"source","output",A.flow,"",n,t,r,i,a)},He.filterChildren=function(e,t,n,r,o){return t};var Ke=Me(He);import Je,{memo as _e}from"react";import{MdOutlineFactCheck as Ve}from"react-icons/md";var qe=function(e){var t=e.id,n=e.type;return Je.createElement(vi,{icon:Ve,node:e,isPreview:!t,title:"try",id:t,color:ro[n]},Je.createElement(fi,{id:t,params:[{label:"Error",field:"error",type:"input",static:!0}],boxStyle:{marginTop:"70px",marginBottom:"30px"}}),Je.createElement(mi,{id:t,type:"input",label:"Try",style:{top:"60px"},handleId:"try"}),Je.createElement(mi,{id:t,type:"input",label:"Catch",style:{top:"90px"},handleId:"catch"}))};qe.keyWords=["try"],qe.getData=function(e,t,n,r){var o,i,a,l,u,c=null===(o=t[B(e.getTryBlock())])||void 0===o||null===(i=o.value)||void 0===i?void 0:i.id,d=null===(a=t[B(e.getCatchClause().getBlock())])||void 0===a||null===(l=a.value)||void 0===l?void 0:l.id;return{try:z(c,"output",e,"try",t,n,r,[A.data,A.flow]),catch:z(d,"output",e,"catch",t,n,r,[A.data,A.flow]),error:null===(u=e.getCatchClause())||void 0===u?void 0:u.getVariableDeclaration().getFullText()}},qe.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id],u=R(e,"target","try",A.flow,"",n,t,r,i,a),c=R(e,"target","catch",A.flow,"",n,t,r,i,a),d=R(e,"source","error",A.data,null!==(o=null==l?void 0:l.error)&&void 0!==o?o:"",n,t,r,i,a);return d||(d="e"),"try "+u+"catch("+d+") "+c+R(e,"source","output",A.flow,"",n,t,r,i,a)};var Xe=_e(qe);import Ue,{memo as Ye,useContext as Ze}from"react";import{MdAltRoute as Ge}from"react-icons/md";var Qe=function(e){var t,n=e.id,r=e.type,o=Ze(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=[{label:"Expression",field:"expression",type:"input"}].concat(Object.keys(o).filter((function(e){return e.startsWith("case-")})).map((function(e,t){return{label:"Case",field:e,fieldType:"case",deleteable:!0}})));return Ue.createElement(vi,{icon:Ge,node:e,isPreview:!n,title:"switch",id:n,color:ro[r]},Ue.createElement(fi,{id:n,params:i,boxStyle:{marginTop:"10px"}}),Ue.createElement(Q,{id:n,nodeData:o,type:"Case",style:{marginBottom:"20px"}}))};Qe.keyWords=["switch"],Qe.getData=function(e,t,n,r){B(e);var l=e.getCaseBlock().getClauses(),u={};return l&&(u=l.reduce((function(u,c,d){var s="case-".concat(d+1),p=c.getExpression(),f=l[d].getStatements();return f&&f.length&&z(e,s+A.flow+"output",t[B(f[0])].value.id,"input",t,n,r,[A.flow,A.flow]),a(i({},u),o({},s,z(p,"output",e,s,t,n,r)))}),{})),i({expression:z(e.getExpression(),"output",e,"expression",t,n,r)},u)},Qe.dump=function(e,t,n,r){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=null!==(o=r[e.id])&&void 0!==o?o:{},c=R(e,"target","expression",A.data,null!==(i=null==u?void 0:u.expression)&&void 0!==i?i:"",n,t,r,a,l),d=Object.keys(u).filter((function(e){return e.startsWith("case")})).reduce((function(o,i){var c;return o+"case "+R(e,"target",i,A.data,null!==(c=u[i])&&void 0!==c?c:"",n,t,r,a,l)+":\n"+R(e,"source",i+"_output",A.flow,"",n,t,r,a,l)+"\n"}),"switch("+c+") {")+"}";return d+R(e,"source","output",A.flow,"",n,t,r,a,l)};var $e=Ye(Qe);import et,{memo as tt}from"react";import{MdAltRoute as nt}from"react-icons/md";var rt=function(e){var t=e.id,n=e.type;return et.createElement(vi,{icon:nt,node:e,isPreview:!t,title:"ternary",params:[{label:"Condition",field:"condition",type:"input"},{label:"When true",field:"whenTrue",type:"input"},{label:"When false",field:"whenFalse",type:"input"}],id:t,color:ro[n]})};rt.keyWords=["ternary"],rt.getData=function(e,t,n,r){return{condition:z(null==e?void 0:e.getCondition(),"output",e,"condition",t,n,r),whenTrue:z(null==e?void 0:e.getWhenTrue(),"output",e,"whenTrue",t,n,r),whenFalse:z(null==e?void 0:e.getWhenFalse(),"output",e,"whenFalse",t,n,r)}},rt.dump=function(e,t,n,r){var o,i,a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=r[e.id];return R(e,"target","condition",A.data,null!==(o=null==c?void 0:c.condition)&&void 0!==o?o:"",n,t,r,l,u)+"?"+R(e,"target","whenTrue",A.data,null!==(i=null==c?void 0:c.whenTrue)&&void 0!==i?i:"",n,t,r,l,u)+":"+R(e,"target","whenFalse",A.data,null!==(a=null==c?void 0:c.whenFalse)&&void 0!==a?a:"",n,t,r,l,u)+"\n"+R(e,"source","output",A.flow,"",n,t,r,l,u)};var ot=tt(rt);import it,{useContext as at}from"react";import{MdLan as lt}from"react-icons/md";var ut=function(e){var t,n,r,o=e.id,i=e.type,a=at(q)((function(e){return null!==(t=e.nodeData[o])&&void 0!==t?t:{}})),l=[{label:"Variable",field:"accessName",type:"input"},{label:"Key",field:"key",type:"input",fieldType:a.fieldType}];return it.createElement(vi,{icon:lt,node:e,isPreview:!o,title:(null!==(n=null==a?void 0:a.accessName)&&void 0!==n?n:"x")+"["+(null!==(r=null==a?void 0:a.key)&&void 0!==r?r:"y")+"]",id:o,params:l,color:ro[i]})};ut.keyWords=["[]"],ut.getData=function(e,t,n,r){return{accessName:z(e.getExpression(),"output",e,"accessName",t,n,r),key:z(e.getArgumentExpression(),"output",e,"key",t,n,r)}},ut.dump=function(e,t,n,r){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=r[e.id];return R(e,"target","accessName",A.data,null!==(o=null==u?void 0:u.accessName)&&void 0!==o?o:"",n,t,r,a,l)+"["+R(e,"target","key",A.data,null!==(i=null==u?void 0:u.key)&&void 0!==i?i:"",n,t,r,a,l)+"]"+R(e,"source","output",A.flow,"",n,t,r,a,l)};var ct=it.memo(ut);import dt,{memo as st,useContext as pt}from"react";import{TbBracketsContain as ft}from"react-icons/tb";var mt=function(e){var t,n=pt(q),r=e.id,o=e.type,i=n((function(e){return null!==(t=e.nodeData[r])&&void 0!==t?t:{}})),a=Object.keys(i).filter((function(e){return e.startsWith("element-")})).length,l=Object.keys(i).filter((function(e){return e.startsWith("element-")})).map((function(e,t){return{label:"["+t+"]",field:e,type:"input",deleteable:!0}}));return dt.createElement(vi,{icon:ft,node:e,isPreview:!r,title:"array["+(a||"")+"]",id:r,color:ro[o]},dt.createElement(fi,{id:r,params:l}),dt.createElement(Q,{id:r,nodeData:i,type:"Element"}))};mt.keyWords=["Array"],mt.getData=function(e,t,n,r){return e.getElements().reduce((function(l,u,c){var d="element-".concat(c);return a(i({},l),o({},d,z(u,"output",e,d,t,n,r)))}),{})},mt.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("element-")})).reduce((function(o,u){var c;return o+(R(e,"target",u,A.data,null!==(c=l[u])&&void 0!==c?c:"",n,t,r,i,a)+", ")}),"");return"["+u+"]\n"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var vt=st(mt);import gt,{memo as yt}from"react";import{TbParentheses as ht}from"react-icons/tb";var xt=function(e){var t=e.id,n=e.type;return gt.createElement(vi,{icon:ht,node:e,isPreview:!t,title:"()",id:t,params:[{label:"Value",field:"value",type:"input"}],color:ro[n]})};xt.keyWords=["()"],xt.getData=function(e,t,n,r){return{value:z(e.getExpression(),"output",e,"value",t,n,r)}},xt.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id];return"("+R(e,"target","value",A.data,null!==(o=null==l?void 0:l.value)&&void 0!==o?o:"",n,t,r,i,a)+")"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var bt=yt(xt);import Et,{memo as wt}from"react";import{MdLowPriority as kt}from"react-icons/md";var Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=function(n){var r=n.id,o=n.type,i=[];return"for"==e&&i.push({label:"Initializer",field:"initializer",type:"input"}),i.push({label:"Condition",field:"condition",type:"input"}),"for"==e&&i.push({label:"Incrementor",field:"incrementor",type:"input"}),Et.createElement(vi,{icon:kt,node:n,isPreview:!r,title:t||e,id:r,color:ro[o]},Et.createElement(fi,{id:r,params:i,boxStyle:{marginTop:"0px",marginBottom:"30px"}}),Et.createElement(mi,{id:r,type:"input",label:"Loop",style:{top:"for"==e?"210px":"100px"},handleId:"loop"}))};return n.keyWords=["for","while","do-while"],n.getData=function(n,r,o,l){n.getStatement()&&z(n.getStatement(),"output",n,"loop",r,o,l,[A.data,A.flow]);var u={};return"for"==e&&(u={initializer:z(n.getInitializer(),"output",n,"initializer",r,o,l),incrementor:z(n.getIncrementor(),"output",n,"incrementor",r,o,l)}),a(i({},u),{condition:z("while"==e?n.getExpression():n.getCondition(),"output",n,"condition",r,o,l),mode:e,submode:t})},n.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id],u=R(e,"target","condition",A.data,null==l?void 0:l.condition,n,t,r,i,a),c=R(e,"target","loop",A.flow,"",n,t,r,i,a);if("WhileStatement"==e.type)o="while("+u+") "+c+"\n";else if("DoStatement"==e.type)o="do "+c+" while ("+u+")\n";else if("ForStatement"==e.type){var d=R(e,"target","initializer",A.data,null==l?void 0:l.initializer,n,t,r,i,a),s=R(e,"target","incrementor",A.data,null==l?void 0:l.incrementor,n,t,r,i,a);o="for("+d.slice(0,-1)+";"+u.slice(0,-1)+";"+s.slice(0,-1)+") "+c+"\n"}return o+R(e,"source","output",A.flow,"",n,t,r,i,a)},n};wt(Ct("while"));import Dt,{useContext as St}from"react";import{MdOutlineCalculate as Tt}from"react-icons/md";var Nt=function(e){var t=function(t){var n,r,o=t.id,i=t.type,a=St(q)((function(e){return null!==(n=e.nodeData[o])&&void 0!==n?n:{}})),l=[{label:"Value",field:"value",type:"input"}];l.push({field:"operator",type:"select",data:["++","--","!","-"],static:!0}),"pre"==e&&l.reverse();var u,c=null!==(r=a.operator)&&void 0!==r?r:"++",d=null!==(u=a.value)&&void 0!==u?u:"x";return Dt.createElement(vi,{icon:Tt,node:t,isPreview:!o,title:"pre"==e?c+d:d+c,id:o,params:l,color:ro[i]})};return t.keyWords=["pre","++x","x++","-x"],t.getData=function(e,t,n,r){return{operator:{40:"-",45:"++",46:"--",53:"!"}[e.getOperatorToken()],value:z(e.getOperand(),"output",e,"value",t,n,r)}},t.dump=function(t,n,r,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=o[t.id],c=R(t,"target","value",A.data,null!==(i=null==u?void 0:u.value)&&void 0!==i?i:"",r,n,o,a,l),d=[u.operator,c];return"post"==e&&d.reverse(),d.join("")+"\n"+R(t,"source","output",A.flow,"",r,n,o,a,l)},Dt.memo(t)};import Pt,{memo as Ot,useContext as Ft}from"react";import{TbFileImport as It}from"react-icons/tb";var Wt=function(e){var t,n=e.id,r=e.type,o=Ft(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("import-")})).map((function(e,t){return{label:t+1+"",field:e,type:"input",static:!0,deleteable:!0}})),a=[{label:"Module",field:"module",type:"input",static:!0},{label:"Default",field:"default",type:"input",static:!0}].concat(i);return Pt.createElement(vi,{icon:It,node:e,isPreview:!n,title:"import",id:n,color:ro[r]},Pt.createElement(fi,{id:n,params:a,boxStyle:{marginTop:"10px"}}),Pt.createElement(Q,{id:n,nodeData:o,type:"Import",style:{marginBottom:"20px"}}))};Wt.keyWords=["import"],Wt.getData=function(e,t,n){var r,l,u;return(null!==(u=e.getNamedImports())&&void 0!==u?u:[]).reduce((function(e,t,n){var r="import-"+n;return a(i({},e),o({},r,t.getName()))}),{default:null===(r=e.getDefaultImport())||void 0===r?void 0:r.getText(),module:null===(l=e.getModuleSpecifier())||void 0===l?void 0:l.getText().slice(1,-1)})},Wt.dump=function(e,t,n,r){var o,i,a,l,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=null!==(o=r[e.id])&&void 0!==o?o:{},s=Object.keys(d).filter((function(e){return e.startsWith("import")})).reduce((function(o,i){var a;return d[i]?o+=R(e,"target",i,A.data,null!==(a=d[i])&&void 0!==a?a:"",n,t,r,u,c)+", ":o}),""),p=null!==(a=R(e,"target","default",A.data,null!==(i=null==d?void 0:d.default)&&void 0!==i?i:"",n,t,r,u,c))&&void 0!==a?a:"",f=R(e,"target","module",A.data,null!==(l=null==d?void 0:d.module)&&void 0!==l?l:"",n,t,r,u,c);return"import "+p+(p&&s?", ":"")+(s?"{ "+s+"}":"")+' from "'.concat(f,'"')+R(e,"source","output",A.flow,"",n,t,r,u,c)};var jt=Ot(Wt);import Bt from"react";import{TbFileExport as At}from"react-icons/tb";var Mt=function(e){var t=e.id,n=e.type;return Bt.createElement(vi,{icon:At,node:e,isPreview:!t,title:"export default",id:t,params:[{label:"Value",field:"value",type:"input"}],color:ro[n]})};Mt.keyWords=["export default"],Mt.getData=function(e,t,n,r){return{value:z(null==e?void 0:e.getExpression(),"output",e,"value",t,n,r)}},Mt.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id];return"export default "+R(e,"target","value",A.data,null!==(o=null==l?void 0:l.value)&&void 0!==o?o:"",n,t,r,i,a)};var zt=Bt.memo(Mt);import Rt,{useContext as Lt}from"react";import{TbFileExport as Ht}from"react-icons/tb";var Kt=function(e){var t,n=e.id,r=e.type,o=Lt(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("export-")})).map((function(e,t){return{label:t+1+"",field:e,type:"input",static:!0}}));return Rt.createElement(vi,{icon:Ht,node:e,isPreview:!n,title:"export",id:n,params:i,color:ro[r]})};Kt.keyWords=["export"],Kt.getData=function(e,t,n){var r;return(null!==(r=e.getNamedExports())&&void 0!==r?r:[]).reduce((function(e,t,n){var r="export-"+n;return a(i({},e),o({},r,t.getName()))}),{})},Kt.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("export")})).reduce((function(o,u){var c;return o+(R(e,"target",u,A.data,null!==(c=l[u])&&void 0!==c?c:"",n,t,r,i,a)+", ")}),"");return"export {"+u+"}"};var Jt=Rt.memo(Kt);import _t from"react";import{MdReply as Vt}from"react-icons/md";var qt=function(e){var t=e.id,n=e.type;return _t.createElement(vi,{icon:Vt,node:e,isPreview:!t,title:"return",id:t,params:[{label:"Value",field:"value",type:"input"}],color:ro[n]})};qt.keyWords=["return"],qt.getData=function(e,t,n,r){return{value:z(null==e?void 0:e.getExpression(),"output",e,"value",t,n,r)}},qt.dump=function(e,t,n,r){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=r[e.id];return"return "+(null!==(i=R(e,"target","value",A.data,null!==(o=null==u?void 0:u.value)&&void 0!==o?o:"",n,t,r,a,l))&&void 0!==i?i:"")+"\n"+R(e,"source","output",A.flow,"",n,t,r,a,l)};var Xt=_t.memo(qt);import Ut from"react";import{RxLinkBreak1 as Yt}from"react-icons/rx";var Zt=function(e){var t=e.id,n=e.type;return Ut.createElement(vi,{icon:Yt,node:e,isPreview:!t,title:"break",id:t,params:[],color:ro[n]})};Zt.keyWords=["break"],Zt.getData=function(e,t,n){return{}},Zt.dump=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return"break\n"+R(e,"source","output",A.flow,"",n,t,r,o,i)};var Gt=Ut.memo(Zt);import Qt,{memo as $t}from"react";var en=function(e){e.id,e.type;return Qt.createElement(Qt.Fragment,null)};en.getData=function(e,t,n){var r=e.getDeclarationList();return r?t[B(r)]:{type:"data",value:""}},en.shadow=!0;var tn=$t(en);import nn,{memo as rn,useContext as on}from"react";import{MdOutlineWidgets as an}from"react-icons/md";var ln=function(e){var t,n=e.id,r=e.type,o=on(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("attr-")})).map((function(e,t){return{label:"Attribute",field:e,type:"input",static:!0,deleteable:!0}})),a=Object.keys(o).filter((function(e){return e.startsWith("meth-")})).map((function(e,t){return{label:"Method",field:e,fieldType:"case",static:!0,deleteable:!0}})),l=[{label:"Name",field:"name",type:"input",static:!0},{label:"Extends",field:"extends",type:"input"}].concat(i);return nn.createElement(vi,{icon:an,node:e,isPreview:!n,title:"class",id:n,color:ro[r]},nn.createElement(fi,{id:n,params:l}),nn.createElement(Q,{id:n,nodeData:o,type:"Attribute"}),nn.createElement(mi,{id:n,type:"output",label:"Constructor",style:{top:52*i.length+230+"px"},handleId:"constructor"}),nn.createElement(fi,{id:n,params:a,boxStyle:{marginTop:"40px"}}),nn.createElement(Q,{id:n,nodeData:o,type:"Method"}),nn.createElement(fi,{id:n,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),o.export?nn.createElement(fi,{id:n,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null)};ln.keyWords=["class"],ln.getData=function(e,t,n,r){var l=e.getMembers().filter((function(e){return"PropertyDeclaration"==e.getKindName()})).reduce((function(e,t,n){var r="attr-"+n;return a(i({},e),o({},r,t.getName()))}),{}),u=e.getMembers().filter((function(e){return"MethodDeclaration"==e.getKindName()})).reduce((function(l,u,c){var d="meth-"+c;return z(u,"output",e,d+"_output",t,n,r,[A.data,A.flow]),a(i({},l),o({},d,u.getName()))}),{}),c=e.getMembers().find((function(e){return"Constructor"==e.getKindName()}));c&&z(c,"output",e,"constructor",t,n,r,[A.data,A.flow]);var d=a(i({},l,u),{export:e.getModifiers().find((function(e){return"ExportKeyword"==e.getKindName()})),isDefault:!!e.getModifiers&&!!e.getModifiers().find((function(e){return"default"==e.getText()})),name:e.getName()}),s=e.getHeritageClauses();return s.length&&(d.extends=z(s[0],"output",e,"extends",t,n,r)),d},ln.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("attr")})).reduce((function(e,t){return e+l[t]+";\n"}),""),c=Object.keys(l).filter((function(e){return e.startsWith("meth")})).reduce((function(o,i){return T(e.id,i+"_output",A.flow,n)?o+R(e,"target",i+"_output",A.flow,"",n,t,r,l[i],a):o}),""),d="";return T(e.id,"constructor",A.flow,n)&&(d=R(e,"target","constructor",A.flow,"",n,t,r,"constructor",a)),(l.export?"export ":"")+(l.export&&l.isDefault?"default ":"")+"class "+l.name+(l.extends?" extends "+l.extends:"")+"{"+u+d+c+"}"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var un=rn(ln);import cn,{useContext as dn}from"react";import{BiLayerPlus as sn}from"react-icons/bi";var pn=function(e){var t,n=e.id,r=e.type,o=dn(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("param-")})).map((function(e,t){return{label:e.substr(6),field:e,fieldType:"parameter"}}));return cn.createElement(vi,{icon:sn,node:e,isPreview:!n,title:"method",id:n,color:ro[r]},cn.createElement("div",{style:{height:"40px"}}),cn.createElement(fi,{id:n,params:i}),cn.createElement(mi,{id:n,type:"input",label:"Body",style:{top:"60px"},handleId:"body"}),cn.createElement(fi,{id:n,params:[{label:"Static",field:"static",type:"boolean",static:!0},{label:"Async",field:"async",type:"boolean",static:!0}]}),cn.createElement(fi,{id:n,params:[{field:"level",type:"select",data:["public","private","protected"],static:!0}]}))};pn.keyWords=["method"],pn.getData=function(e,t,n,r){z(e.getBody(),"output",e,"body",t,n,r,[A.data,A.flow]);var l="public";return e.getModifiers().find((function(e){return"PublicKeyword"==e.getKindName()}))?l="public":e.getModifiers().find((function(e){return"PrivateKeyword"==e.getKindName()}))?l="private":e.getModifiers().find((function(e){return"ProtectedKeyword"==e.getKindName()}))&&(l="protected"),i({},e.getParameters().reduce((function(l,u,c){var d=F(),s=u.getInitializer();return e.getName&&(l.name=e.getName()),a(i({},l),o({},"param-"+d,{key:u.getName(),value:s?z(s,"output",e,"param-"+d,t,n,r):""}))}),{static:!!e.getModifiers().find((function(e){return"StaticKeyword"==e.getKindName()})),async:!!e.getModifiers().find((function(e){return"AsyncKeyword"==e.getKindName()})),level:l}))},pn.dump=function(e,t,n,r,o,i){var a,l=null!==(a=r[e.id])&&void 0!==a?a:{},u=Object.keys(l).filter((function(e){return e.startsWith("param")})).reduce((function(o,a){var u,c,d,s,p=R(e,"target",a+"-key",A.data,null!==(d=null===(u=l[a])||void 0===u?void 0:u.key)&&void 0!==d?d:"",n,t,r,null,i),f=R(e,"target",a,A.data,null!==(s=null===(c=l[a])||void 0===c?void 0:c.value)&&void 0!==s?s:"",n,t,r,null,i);return o+(p+(f?"="+f:"")+",")}),""),c=R(e,"target","body",A.flow,"",n,t,r,null,i);return(l.static?"static ":"")+(l.async?"async ":"")+o+"("+u+") "+c+"\n"+R(e,"source","output",A.flow,"",n,t,r,null,i)};var fn=cn.memo(pn);import mn,{useContext as vn}from"react";import{IoDuplicateOutline as gn}from"react-icons/io5";var yn=function(e){var t,n=e.id,r=e.type,o=vn(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("param")})).map((function(e,t){return{label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0}})),a=[{label:"Name",field:"name",type:"input"}].concat(i);return mn.createElement(vi,{icon:gn,output:{label:"Output",field:"value",type:"output"},node:e,isPreview:!n,title:"new",id:n,color:ro[r]},mn.createElement(fi,{id:n,params:a,boxStyle:{marginTop:"10px"}}),mn.createElement(Q,{id:n,nodeData:o,type:"param"}),mn.createElement(pi,{id:n,param:{label:"Output",field:"value",type:"output"}}))};yn.keyWords=["new"],yn.getData=function(e,t,n,r){return a(i({},e.getArguments().reduce((function(l,u,c){return a(i({},l),o({},"param"+(c+1),z(u,"output",e,"param"+(c+1),t,n,r)))}),{})),{name:z(e.getExpression(),"output",e,"name",t,n,r)})},yn.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("param")})).reduce((function(o,u){var c;return o+(R(e,"target",u,A.data,null!==(c=l[u])&&void 0!==c?c:"",n,t,r,i,a)+", ")}),"");return"new "+R(e,"target","name",A.data,l.name,n,t,r,i,a)+"("+u+")\n"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var hn=mn.memo(yn);import xn from"react";import{MdRedo as bn}from"react-icons/md";var En=function(e){var t=e.id,n=e.type;return xn.createElement(vi,{icon:bn,node:e,isPreview:!t,title:"continue",id:t,params:[],color:ro[n]})};En.keyWords=["continue"],En.getData=function(e,t,n){return{}},En.dump=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return"continue"+R(e,"source","output",A.flow,"",n,t,r,o,i)};var wn=xn.memo(En);import kn from"react";import{MdOutlineAvTimer as Cn}from"react-icons/md";var Dn=function(e){var t=e.id,n=e.type;return kn.createElement(vi,{icon:Cn,node:e,isPreview:!t,title:"await",id:t,params:[{label:"Value",field:"value",type:"input"}],color:ro[n]})};Dn.keyWords=["await"],Dn.getData=function(e,t,n,r){return{value:z(null==e?void 0:e.getExpression(),"output",e,"value",t,n,r)}},Dn.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id];return"await "+R(e,"target","value",A.data,null!==(o=null==l?void 0:l.value)&&void 0!==o?o:"",n,t,r,i,a)};var Sn=kn.memo(Dn);import Tn,{useContext as Nn}from"react";import{MdOutlineDataObject as Pn}from"react-icons/md";var On=function(e){var t,n=e.id,r=e.type,o=Nn(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("param-")})).map((function(e,t){return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}}));return Tn.createElement(vi,{icon:Pn,node:e,isPreview:!n,title:"Object",id:n,color:ro[r]},Tn.createElement(fi,{id:n,params:i}),Tn.createElement(Q,{id:n,nodeData:o}))};On.keyWords=["Object"],On.getData=function(e,t,n,r){return i({},e.getProperties().reduce((function(l,u,c){var d,s,p=F();return"SpreadAssignment"==u.getKindName()?d=u:(d=u.getName(),s=u.getInitializer()),a(i({},l),o({},"param-"+p,{key:null!=d?d:"",value:s?z(s,"output",e,"param-"+p,t,n,r):""}))}),{}))},On.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("param")})).reduce((function(o,u){var c,d,s,p,f=null!==(s=null===(c=l[u])||void 0===c?void 0:c.key)&&void 0!==s?s:"",m=R(e,"target",u,A.data,null!==(p=null===(d=l[u])||void 0===d?void 0:d.value)&&void 0!==p?p:"",n,t,r,i,a);return o+(f+(m?":"+m:"")+",")+"\n"}),"");return"{"+u+"}"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var Fn=Tn.memo(On);import In,{memo as Wn}from"react";var jn=function(e){return In.createElement(In.Fragment,null)};jn.skipTraversal=!0;var Bn=Wn(jn);import An from"react";import{MdOutlineAbc as Mn}from"react-icons/md";var zn=function(e){var t=e.id,n=e.type;return An.createElement(vi,{icon:Mn,node:e,isPreview:!t,title:"template",id:t,params:[{label:"Template",field:"value",type:"input"}],color:ro[n]})};zn.keyWords=["Template"],zn.getData=function(e,t,n){return{value:e.getText().slice(1,-1)}},zn.skipTraversal=!0;var Rn=An.memo(zn);import Ln,{memo as Hn}from"react";var Kn=function(e){e.id,e.type;return Ln.createElement(Ln.Fragment,null)};Kn.getNodeValue=function(e,t,n){return e.getText()},Kn.shadow=!0;var Jn=Hn(Kn);import _n,{useContext as Vn}from"react";import{TbBox as qn}from"react-icons/tb";import{MdOutlineFormatListNumbered as Xn}from"react-icons/md";var Un=function(e){var t,n,o,l=e.id,u=e.type,c=Vn(q),s=c((function(e){return null!==(o=e.nodeData[l])&&void 0!==o?o:{}})),p=c((function(e){return e.setNodeData})),f=80+60*Math.max(0,(null===(t=s.connections)||void 0===t?void 0:t.length)-1),m=function(){var e=r((function(){var e,t,n,r;return d(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,p(l,a(i({},s),{connections:s.connections?s.connections.concat([1]):[1]}))];case 1:return o.sent(),e=Array.from(document.querySelectorAll(":not([tabindex='-1']):not([disabled])")).sort((function(e,t){return e.tabIndex-t.tabIndex})),e?(t=e.indexOf(document.activeElement),n=(t-1)%e.length,e[n].focus(),[3,3]):[2];case 2:return r=o.sent(),console.error("Error focusing element. ",r),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return _n.createElement(vi,{icon:"Block"!=u?qn:Xn,container:ze,node:e,output:"Block"==u?{field:"value",type:"output"}:null,isPreview:!l,title:"Block"==u?"Block":"Start",id:l,params:[],color:"SourceFile"==u?"#F7B500":ro[u]},_n.createElement("div",null,null===(n=s.connections)||void 0===n?void 0:n.map((function(e,t){return _n.createElement(mi,{id:l,type:"input",label:"",style:{top:60+60*t+"px"},handleId:"block"+t})}))),_n.createElement("div",{style:{alignSelf:"center",height:f+"px"}},_n.createElement("button",{onClick:m,className:"add-button",style:{display:"flex",position:"relative",width:"100px",alignSelf:"center",bottom:-1*(f-50),textAlign:"center",alignItems:"stretch",border:"0px solid black",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",textDecoration:"none",zIndex:"0",cursor:"pointer",borderRadius:"10px",padding:"15px",color:"#4fc2f7"}},"+")))};Un.keyWords=["block","{}"],Un.getData=function(e,t,n,r){(e.getStatements?e.getStatements():e.getDeclarations()).forEach((function(o,i){var a=t[B(o)];if((null==a?void 0:a.type)||console.error("item has no type: ",a),"node"==(null==a?void 0:a.type)){var l=a.value.id;l&&z(l,"output",e,"block"+i,t,n,r,[A.data,A.flow])}}));var o=e.getStatements();return{connections:o.length?o:[1]}},Un.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{connections:[]},u="";return l.connections.forEach((function(o,l){u+=R(e,"target","block"+l,A.flow,"",n,t,r,i,a)+"\n"})),("Block"==e.type?"{":"")+u+("Block"==e.type?"}":"")},Un.filterChildren=function(e,t,n,r,o){return t};var Yn=_n.memo(Un);import Zn,{memo as Gn,useContext as Qn}from"react";var $n=function(e){var t=e.id,n=e.type,r=Qn(q)((function(e){return e.setMenu}));return Zn.createElement(vi,{style:{borderColor:"#bbb",borderStyle:"dashed",borderWidth:2},output:!1,node:e,isPreview:!t,id:t,color:ro[n]},Zn.createElement("div",{onClick:function(e){var n=e.clientX,o=e.clientY;console.log("event: ",e),console.log("locationX: ",n,"locationY: ",o),r("open",[n,o],t)}},Zn.createElement(E,{style:{color:"#bbb",fontSize:"25px"}},"+")),Zn.createElement(pi,{id:t,param:{label:"",field:"value",type:"output"},style:{backgroundColor:"#bbb",marginTop:"-25px"}}))};$n.keyWords=["phantom"],$n.dump=function(e,t,n,r){return""};var er=Gn($n);import tr,{useContext as nr}from"react";import{SyntaxKind as rr}from"ts-morph";import{MdOutlineCategory as or}from"react-icons/md";var ir=function(e){var t,n,r=e.id,o=e.type,i=nr(q)((function(e){return null!==(t=e.nodeData[r])&&void 0!==t?t:{}})),a=[{label:"Name",static:!0,field:"name",type:"input",description:"Type name"}].concat(Object.keys(i).filter((function(e){return e.startsWith("param-")})).map((function(e,t){return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}})));return tr.createElement(vi,{icon:or,node:e,isPreview:!r,title:(i.export?"export ":"")+"type "+(null!==(n=i.name)&&void 0!==n?n:""),id:r,color:ro[o]},tr.createElement(fi,{id:r,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),tr.createElement(fi,{id:r,params:a}),tr.createElement(Q,{id:r,nodeData:i}))};ir.keyWords=["type"],ir.getData=function(e,t,n){return i({},e.getType().getProperties().reduce((function(e,t,n){var r,l=F(),u=t.getValueDeclaration().getType().getText(),c=!!(null===(r=t.getValueDeclaration())||void 0===r?void 0:r.getChildrenOfKind(rr.QuestionToken).length),d=t.getName()+(c?"?":"");return a(i({},e),o({},"param-"+l,{key:null!=d?d:"",value:null!=u?u:""}))}),{name:e.getName?e.getName():"",export:e.getModifiers().find((function(e){return"ExportKeyword"==e.getKindName()}))}))},ir.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("param-")})).reduce((function(o,u){var c,d;return o+("\t"+l[u].key+":"+R(e,"target",u,A.data,null!==(d=null===(c=l[u])||void 0===c?void 0:c.value)&&void 0!==d?d:"",n,t,r,i,a)+";")+"\n"}),"");return(l.export?"export ":"")+" type "+l.name+"= {\n"+u+"\n}"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var ar=tr.memo(ir);import lr,{useContext as ur}from"react";import{SyntaxKind as cr}from"ts-morph";import{MdOutlineCategory as dr}from"react-icons/md";var sr=function(e){var t,n=e.id,r=e.type,o=ur(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=[{label:"Name",static:!0,field:"name",type:"input",description:"Interface name"}].concat(Object.keys(o).filter((function(e){return e.startsWith("param-")})).map((function(e,t){return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}})));return lr.createElement(vi,{icon:dr,node:e,isPreview:!n,title:"interface",id:n,color:ro[r]},lr.createElement(fi,{id:n,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),lr.createElement(fi,{id:n,params:i}),lr.createElement(Q,{id:n,nodeData:o}))};sr.keyWords=["interface"],sr.getData=function(e,t,n){return i({},e.getType().getProperties().reduce((function(e,t,n){var r,l=F(),u=t.getValueDeclaration().getType().getText(),c=!!(null===(r=t.getValueDeclaration())||void 0===r?void 0:r.getChildrenOfKind(cr.QuestionToken).length),d=t.getName()+(c?"?":"");return a(i({},e),o({},"param-"+l,{key:null!=d?d:"",value:null!=u?u:""}))}),{name:e.getName?e.getName():"",export:e.getModifiers().find((function(e){return"ExportKeyword"==e.getKindName()}))}))},sr.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("param-")})).reduce((function(o,u){var c,d;return o+("\t"+l[u].key+":"+R(e,"target",u,A.data,null!==(d=null===(c=l[u])||void 0===c?void 0:c.value)&&void 0!==d?d:"",n,t,r,i,a)+";")+"\n"}),"");return(l.export?"export ":"")+" interface "+l.name+" {\n"+u+"\n}"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var pr=lr.memo(sr);import fr,{useContext as mr}from"react";import{VscCombine as vr}from"react-icons/vsc";var gr=function(e){var t,n=e.id,r=e.type,o=mr(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("param-")})).map((function(e,t){return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}}));return fr.createElement(vi,{icon:vr,node:e,isPreview:!n,title:"object binding",id:n,color:ro[r]},fr.createElement(fi,{id:n,params:i}),fr.createElement(Q,{id:n,nodeData:o}))};gr.keyWords=["object","binding","object binding"],gr.getData=function(e,t,n,r){return i({},e.getElements().reduce((function(e,t,n){var r,l=F(),u=null==t?void 0:t.getPropertyNameNode(),c=null!==(r=null==t?void 0:t.getName())&&void 0!==r?r:"",d=null==t?void 0:t.getInitializer(),s={};return s=d?{key:c,value:d.getText(),initializer:!0}:u?{key:u.getText(),value:c}:{key:c},a(i({},e),o({},"param-"+l,i({},s)))}),{}))},gr.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("param-")})).reduce((function(o,u){var c,d,s=l[u].key,p=l[u].initializer?"=":":",f=R(e,"target",u,A.data,null!==(d=null===(c=l[u])||void 0===c?void 0:c.value)&&void 0!==d?d:"",n,t,r,i,a);return o+(s+(f?p+f:"")+", ")}),"");return"{"+u+"}"+R(e,"source","output",A.flow,"",n,t,r,i,a)};var yr=gr;import hr,{useContext as xr}from"react";import{SyntaxKind as br}from"ts-morph";import{IoCodeSharp as Er}from"react-icons/io5";var wr=function(e){var t,n=e.id,r=e.type,o=xr(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("prop-")})).map((function(e,t){return{label:e.substr(5),field:e,fieldType:"prop",deleteable:!0}})),a=Object.keys(o).filter((function(e){return e.startsWith("child-")})).map((function(e,t){return{label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0}})),l=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxElement name"}].concat(i),u=a;return hr.createElement(vi,{icon:Er,node:e,isPreview:!n,title:"<x ...></x>",id:n,color:ro[r]},hr.createElement(fi,{id:n,params:l}),hr.createElement(Q,{id:n,nodeData:o,type:"Prop"}),hr.createElement(fi,{id:n,params:u}),hr.createElement(Q,{id:n,nodeData:o,type:"Child"}))};wr.keyWords=["jsx","jsxelement","react","tsx","fragment","selfclosed"],wr.getData=function(e,t,n,r){var l,u,c,d={name:null===(l=null===(u=null==e?void 0:e.getOpeningElement())||void 0===u?void 0:u.getTagNameNode())||void 0===l?void 0:l.getText()},s=null===(c=null==e?void 0:e.getOpeningElement())||void 0===c?void 0:c.getAttributes(),p=null==s?void 0:s.reduce((function(l,u,c){var d=u.getName(),s="prop-"+d,p=z(u.getInitializer(),"output",e,s,t,n,r);return a(i({},l),o({},s,{key:null!=d?d:"",value:null!=p?p:""}))}),{}),f=e.getChildrenOfKind(br.SyntaxList)[0].getChildren().filter((function(e){return["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment","JsxText"].includes(e.getKindName())&&e.getText()})),m=null==f?void 0:f.reduce((function(l,u,c){var d="child-".concat(c+1);return a(i({},l),o({},d,z(u,"output",e,d,t,n,r)))}),{});return i({},d,p,m)},wr.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=null==l?void 0:l.name,c=Object.keys(l).filter((function(e){return e.startsWith("prop-")})).reduce((function(o,u){var c,d,s=l._fallBack?l._fallBack.find((function(e){return e.port==u})):null;if(s){var p=R(e,s.type,s.fallbackPort,s.portType,null,n,t,r,i,a);return o+(p?s.preText+p+s.postText:s.fallbackText)}var f,m=null===(c=l[u])||void 0===c?void 0:c.key,v=R(e,"target",u,A.data,null!==(f=null===(d=l[u])||void 0===d?void 0:d.value)&&void 0!==f?f:"",n,t,r,i,a);return v&&m?o+"".concat(m,"=").concat(v," "):o}),""),d=Object.keys(l).filter((function(e){return e.startsWith("child-")})).reduce((function(o,u){var c;return o+"\t"+R(e,"target",u,A.data,null!==(c=l[u])&&void 0!==c?c:"",n,t,r,i,a)+"\n"}),"");return"<".concat(u," ")+c+">\n".concat(d,"</").concat(u,">")+R(e,"source","output",A.flow,"",n,t,r,i,a)};var kr=hr.memo(wr);import Cr from"react";import{IoCodeSharp as Dr}from"react-icons/io5";var Sr=function(e){var t=e.id,n=e.type;return Cr.createElement(vi,{icon:Dr,node:e,isPreview:!t,title:"{Jsx}",id:t,params:[{label:"{jsx}",field:"expression",type:"input",description:"JsxExpression"}],color:ro[n]})};Sr.keyWords=["jsx","jsxexpression","expression","tsx","{}"],Sr.getData=function(e,t,n,r){var o;return{expression:null!==(o=z(e.getExpression(),"output",e,"expression",t,n,r))&&void 0!==o?o:""}},Sr.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id],u=R(e,"target","expression",A.data,null!==(o=null==l?void 0:l.expression)&&void 0!==o?o:"",n,t,r,i,a);return"{".concat(u,"}")+R(e,"source","output",A.flow,"",n,t,r,i,a)};var Tr=Cr.memo(Sr);import Nr,{useContext as Pr}from"react";import{SyntaxKind as Or}from"ts-morph";import{IoCodeSharp as Fr}from"react-icons/io5";var Ir=function(e){var t,n=e.id,r=e.type,o=Pr(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("child-")})).map((function(e,t){return{label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0}})),a=i;return Nr.createElement(vi,{icon:Fr,node:e,isPreview:!n,title:"<></>",id:n,color:ro[r]},Nr.createElement(fi,{id:n,params:a}),Nr.createElement(Q,{id:n,nodeData:o,type:"Child"}))};Ir.keyWords=["jsx","jsxelement","jsxfragment","react","tsx","fragment","selfclosed"],Ir.getData=function(e,t,n,r){var l=e.getChildrenOfKind(Or.SyntaxList)[0].getChildren().filter((function(e){return["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment"].includes(e.getKindName())})),u=null==l?void 0:l.reduce((function(l,u,c){var d="child-".concat(c+1);return a(i({},l),o({},d,z(u,"output",e,d,t,n,r)))}),{});return i({},u)},Ir.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=Object.keys(l).filter((function(e){return e.startsWith("child-")})).reduce((function(o,u){var c;return o+"\t"+R(e,"target",u,A.data,null!==(c=l[u])&&void 0!==c?c:"",n,t,r,i,a)+"\n"}),"");return"<>\n".concat(u,"</>")+R(e,"source","output",A.flow,"",n,t,r,i,a)};var Wr=Nr.memo(Ir);import jr,{useContext as Br}from"react";import{IoCodeSlashSharp as Ar}from"react-icons/io5";var Mr=function(e){var t,n=e.id,r=e.type,o=Br(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}})),i=Object.keys(o).filter((function(e){return e.startsWith("prop-")})).map((function(e,t){return{label:e.substr(5),field:e,fieldType:"prop",deleteable:!0}})),a=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxSelfClosingElement name"}].concat(i);return jr.createElement(vi,{icon:Ar,node:e,isPreview:!n,title:"<x ... />",id:n,color:ro[r]},jr.createElement(fi,{id:n,params:a}),jr.createElement(Q,{id:n,nodeData:o,type:"Prop"}))};Mr.keyWords=["jsx","jsxelement","jsxselfclosingelement","react","tsx","fragment","selfclosed"],Mr.getData=function(e,t,n,r){var l,u={name:null===(l=null==e?void 0:e.getTagNameNode())||void 0===l?void 0:l.getText()},c=null==e?void 0:e.getAttributes(),d=null==c?void 0:c.reduce((function(l,u,c){var d=u.getName(),s="prop-"+d,p=z(u.getInitializer(),"output",e,s,t,n,r);return a(i({},l),o({},s,{key:null!=d?d:"",value:null!=p?p:""}))}),{});return i({},u,d)},Mr.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=null!==(o=r[e.id])&&void 0!==o?o:{},u=null==l?void 0:l.name,c=Object.keys(l).filter((function(e){return e.startsWith("prop-")})).reduce((function(o,u){var c,d,s=l[u].key,p=R(e,"target",u,A.data,null!==(d=null===(c=l[u])||void 0===c?void 0:c.value)&&void 0!==d?d:"",n,t,r,i,a);return o+"".concat(s,"=").concat(p," ")}),"");return"< ".concat(u," ").concat(c," />")+R(e,"source","output",A.flow,"",n,t,r,i,a)};var zr=jr.memo(Mr);import Rr,{useContext as Lr}from"react";import{MdLan as Hr}from"react-icons/md";var Kr=function(e){var t=function(t){var n,r,o,i=t.id,a=t.type,l=Lr(q)((function(e){return null!==(n=e.nodeData[i])&&void 0!==n?n:{}}));return Rr.createElement(vi,{icon:Hr,node:t,isPreview:!i,title:"for("+(null!==(r=null==l?void 0:l.element)&&void 0!==r?r:"element")+" ".concat(e," ")+(null!==(o=null==l?void 0:l.iterator)&&void 0!==o?o:"item")+")",id:i,color:ro[a]},Rr.createElement(fi,{id:i,params:[{label:"Element",field:"element",type:"input"},{label:"Iterator",field:"iterator",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"80px"}}),Rr.createElement(mi,{id:i,type:"input",label:"Loop",style:{top:"180px"},handleId:"loop"}))};return t.keyWords=["for","for-in","for-of"],t.getData=function(e,t,n,r){e.getStatement()&&z(e.getStatement(),"output",e,"loop",t,n,r,[A.data,A.flow]);var o=e.getInitializer(),i=e.getExpression();return{element:z(o,"output",e,"element",t,n,r),iterator:z(i,"output",e,"iterator",t,n,r)}},t.dump=function(t,n,r,o){var i,a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=o[t.id],d=R(t,"target","loop",A.flow,"{}",r,n,o,l,u),s=R(t,"target","element",A.data,null!==(i=null==c?void 0:c.element)&&void 0!==i?i:"",r,n,o,l,u),p=R(t,"target","iterator",A.data,null!==(a=null==c?void 0:c.iterator)&&void 0!==a?a:"",r,n,o,l,u);return"for("+s+" ".concat(e," ")+p+" ) "+d+"\n"+R(t,"source","output",A.flow,"",r,n,o,l,u)},t};Rr.memo(Kr("in"));import Jr,{memo as _r,useContext as Vr}from"react";import{MdAltRoute as qr}from"react-icons/md";var Xr=function(e){var t,n=e.id,r=e.type,o=Vr(q)((function(e){return null!==(t=e.nodeData[n])&&void 0!==t?t:{}}));return Jr.createElement(vi,{icon:qr,node:e,isPreview:!n,title:"delete "+(null==o?void 0:o.expression),params:[{label:"Expression",field:"expression",type:"input"}],id:n,color:ro[r]})};Xr.keyWords=["delete"],Xr.getData=function(e,t,n,r){return{expression:z(null==e?void 0:e.getExpression(),"output",e,"expression",t,n,r)}},Xr.dump=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=r[e.id];return"delete "+R(e,"target","expression",A.data,null!==(o=null==l?void 0:l.expression)&&void 0!==o?o:"",n,t,r,i,a)+R(e,"source","output",A.flow,"",n,t,r,i,a)};var Ur=_r(Xr);import Yr,{memo as Zr}from"react";import{BiTargetLock as Gr}from"react-icons/bi";var Qr=function(e){var t=e.id,n=e.type;return Yr.createElement(vi,{icon:Gr,node:e,isPreview:!t,title:"...",color:ro[n],id:t,params:[{label:"Expression",field:"expression",type:"input"}]})};Qr.keyWords=["spread","..."],Qr.getData=function(e,t,n,r){return{expression:z(e.getExpression(),"output",e,"expression",t,n,r)}},Qr.dump=function(e,t,n,r){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=r[e.id];return"..."+(null!==(i=R(e,"target","expression",A.data,null!==(o=null==u?void 0:u.expression)&&void 0!==o?o:"",n,t,r,a,l))&&void 0!==i?i:"")+R(e,"source","output",A.flow,"",n,t,r,a,l)};var $r=Zr(Qr),eo={Block:Yn,CallExpression:te,BinaryExpression:ue("+"),ObjectLiteralExpression:Fn,ArrayLiteralExpression:vt,ArrowFunction:Fe,FunctionDeclaration:Fe,ReturnStatement:Xt,ElementAccessExpression:ct,ParenthesizedExpression:bt,IfStatement:Ke,ConditionalExpression:ot,WhileStatement:Ct("while"),DoStatement:Ct("while","do-while"),ForStatement:Ct("for"),ForInStatement:Kr("in"),ForOfStatement:Kr("of"),SwitchStatement:$e,BreakStatement:Gt,constNode:me("const"),letNode:me("let"),varNode:me("var"),setNode:ue("="),PrefixUnaryExpression:Nt("pre"),PostfixUnaryExpression:Nt("post"),ClassDeclaration:un,MethodDeclaration:fn,ImportDeclaration:jt,ContinueStatement:wn,TemplateExpression:Rn,ExportAssignment:zt,ExportDeclaration:Jt,NewExpression:hn,TryStatement:Xe,AwaitExpression:Sn,PropertyAccessExpression:Ce,TypeAliasDeclaration:ar,InterfaceDeclaration:pr,ObjectBindingPattern:yr,JsxElement:kr,JsxExpression:Tr,JsxFragment:Wr,JsxSelfClosingElement:zr,DeleteExpression:Ur,SpreadAssignment:$r},to=a(i({},eo),{PropertyAccessExpression:Ce,SourceFile:Yn,Parameter:Be,CaseClause:xe,VariableDeclarationList:ve,VariableStatement:tn,Constructor:fn,ComputedPropertyName:Bn,SpreadElement:Jn,PhantomBox:er,FunctionExpression:Fe}),no=["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5","#E57373","#F06292","#BA68C8","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#FFF176","#FFD54F","#FFB74D","#FF8A65","#A1887F","#E0E0E0","#90A4AE"],ro=Object.keys(eo).reduce((function(e,t,n){return a(i({},e),o({},t,no[n%no.length]))}),{}),oo=eo;import io from"react";import{MdOutlineComment as ao}from"react-icons/md";var lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e.id,e.type,Object.keys(t).filter((function(e){return e.startsWith("param")}))),r=[{label:"Type",field:"to",type:"select",data:["console.log","console.error","console.warn","console.info","console.trace","console.assert","console.clear","console.count","console.dir","console.table","console.time","console.group"],static:!0}].concat(n.map((function(e,t){return{label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0}})));return io.createElement(vi,{icon:ao,node:e,isPreview:!e.id,title:"console",id:e.id,color:"#BCAAA4",skipCustom:!0},io.createElement(fi,{id:e.id,params:r}),io.createElement(Q,{id:e.id,nodeData:t}))};import uo from"react";import co,{useEffect as so,useContext as po}from"react";var fo=function(e){var t=e.node,n=e.port,r=e.type,o=e.fallbackPort,l=e.portType,u=e.preText,c=e.postText,d=e.fallbackText,s=void 0===d?"":d,p=po(q),f=p((function(e){return e.setNodeData})),m=p((function(e){return e.nodeData[null==t?void 0:t.id]}));return so((function(){t&&t.id&&f(t.id,a(i({},m),{_fallBack:[{port:n,type:r,fallbackPort:o,portType:l,fallbackText:s,preText:u,postText:c}]}))}),[null==t?void 0:t.id]),co.createElement(co.Fragment,null)};import{MdLockClock as mo}from"react-icons/md";var vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uo.createElement(vi,{icon:mo,node:e,isPreview:!(null==e?void 0:e.id),title:"timeout",id:e.id,color:"#EEEEEE",skipCustom:!0},uo.createElement(fi,{id:e.id,params:[{label:"Timer(ms)",field:"param2",type:"input"}]}),uo.createElement("div",{style:{marginBottom:"50px"}}),uo.createElement(mi,{id:e.id,type:"output",label:"On Timeout",style:{top:"110px"},handleId:"request"}),uo.createElement(fo,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"() => ",postText:""}))},go=function(){return function(e,t,n){var r,o,i,a=[],l=[],u=null===(r=n.find((function(t){return t.target==B(e)})))||void 0===r?void 0:r.source;a.push(u);var c=null===(o=n.find((function(e){return e.target==u})))||void 0===o?void 0:o.source;a.push(c);var d=null===(i=n.find((function(e){return e.target==c})))||void 0===i?void 0:i.source;return d&&l.push(d),null==l||l.forEach((function(t){return n.push(S(t,t+"-output",B(e),B(e)+"_request"))})),t.filter((function(e){return!(null==a?void 0:a.includes(null==e?void 0:e.id))}))}},yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return function(t,n,r){var o,i=null===(o=r.find((function(n){return n.targetHandle==B(t)+"-param"+e})))||void 0===o?void 0:o.source,a=r.find((function(e){return e.targetHandle==i+"_call"}));return a&&(console.log("new edge: ",S(B(t),B(t)+"_request",a.target,a.targetHandle)),r.push(S(a.source,a.sourceHandle,B(t),B(t)+"_request"))),n.filter((function(e){return(null==e?void 0:e.id)!=i}))}},ho=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return function(t,n,r,o,i){var a=i.find((function(n){return n.targetHandle==t.id+"-param"+e})),l=[],c=[];if(a){var d=r.find((function(e){return e.id==a.source}));d&&c.push(d),l=i.filter((function(e){return e.source==d.id||e.target==d.id}))}return{nodes:u(c).concat(u(n)),edges:u(l).concat(u(o))}}},xo=function(){return function(e,t,n,r,o){var i=[],a=[];if(o){var l=o.find((function(t){return t.target==e.id})),c=r.find((function(e){return e.target==(null==l?void 0:l.source)})),d=r.find((function(e){return e.target==(null==c?void 0:c.source)}));if(l&&c&&d){var s=n.find((function(e){return e.id==(null==l?void 0:l.source)})),p=n.find((function(e){return e.id==(null==c?void 0:c.source)})),f=n.find((function(e){return e.id==(null==d?void 0:d.source)}));a.push(s),a.push(p),a.push(f),i=o.filter((function(e){return e.source==(null==s?void 0:s.id)||e.target==(null==s?void 0:s.id)||e.source==(null==p?void 0:p.id)||e.target==(null==p?void 0:p.id)||e.source==(null==f?void 0:f.id)||e.target==(null==f?void 0:f.id)}))}}return{nodes:u(a).concat(u(t)),edges:u(i).concat(u(r))}}};import bo from"react";import{MdMoreTime as Eo}from"react-icons/md";var wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bo.createElement(vi,{icon:Eo,node:e,isPreview:!(null==e?void 0:e.id),title:"interval",id:e.id,color:"#B0BEC5",skipCustom:!0},bo.createElement(fi,{id:e.id,params:[{label:"Timer(ms)",field:"param2",type:"input"}]}),bo.createElement("div",{style:{marginBottom:"50px"}}),bo.createElement(mi,{id:e.id,type:"output",label:"On Interval",style:{top:"120px"},handleId:"request"}),bo.createElement(fo,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"() => ",postText:""}))};import ko from"react";import{MdOutlinePlaylistPlay as Co}from"react-icons/md";var Do=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ko.createElement(vi,{icon:Co,node:e,isPreview:!(null==e?void 0:e.id),title:"map",id:e.id,color:"#E57373",skipCustom:!0},ko.createElement(fi,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:function(e){return e.replace(".map","")},post:function(e){return e+".map"}}]}),ko.createElement("div",{style:{marginBottom:"50px"}}),ko.createElement(mi,{id:e.id,type:"output",label:"For Each (item, i)",style:{top:"110px"},handleId:"request"}),ko.createElement(fo,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(item, i) => ",postText:""}))};import So from"react";import{MdOutlineFilterAlt as To}from"react-icons/md";var No=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return So.createElement(vi,{icon:To,node:e,isPreview:!(null==e?void 0:e.id),title:"filter",id:e.id,color:"#F06292",skipCustom:!0},So.createElement(fi,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:function(e){return e.replace(".filter","")},post:function(e){return e+".filter"}}]}),So.createElement("div",{style:{marginBottom:"50px"}}),So.createElement(mi,{id:e.id,type:"output",label:"For Each (item, i)",style:{top:"110px"},handleId:"request"}),So.createElement(fo,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(item, i) => ",postText:""}))};import Po from"react";import{MdOutlineSearch as Oo}from"react-icons/md";var Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Po.createElement(vi,{icon:Oo,node:e,isPreview:!(null==e?void 0:e.id),title:"find",id:e.id,color:"#BA68C8",skipCustom:!0},Po.createElement(fi,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:function(e){return e.replace(".find","")},post:function(e){return e+".find"}}]}),Po.createElement("div",{style:{marginBottom:"50px"}}),Po.createElement(mi,{id:e.id,type:"output",label:"For Each (item, i)",style:{top:"110px"},handleId:"request"}),Po.createElement(fo,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(item, i) => ",postText:""}))};import Io from"react";import{MdMediation as Wo}from"react-icons/md";var jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Io.createElement(vi,{icon:Wo,node:e,isPreview:!(null==e?void 0:e.id),title:"reduce",id:e.id,color:"#9575CD",skipCustom:!0},Io.createElement(fi,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:function(e){return e.replace(".reduce","")},post:function(e){return e+".reduce"}}]}),Io.createElement(fi,{id:e.id,params:[{label:"Initial Value",field:"param2",type:"input"}]}),Io.createElement("div",{style:{marginBottom:"50px"}}),Io.createElement(mi,{id:e.id,type:"output",label:"For Each (total, item, i)",style:{top:"160px"},handleId:"request"}),Io.createElement(fo,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(total,item,i) => ",postText:""}))};import Bo from"react";import{TbApi as Ao}from"react-icons/tb";var Mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t).filter((function(e){return e.startsWith("param")})),r=n.map((function(e,t){return{label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0}}));return Bo.createElement(vi,{icon:Ao,node:e,isPreview:!e.id,title:"fetch",id:e.id,color:"#7986CB",skipCustom:!0},Bo.createElement(fi,{id:e.id,params:r}),Bo.createElement(Q,{id:e.id,nodeData:t}))},zo=function(e){var t,n=(null==e?void 0:e.getArguments)?null==e?void 0:e.getArguments()[0]:null,r="ArrowFunction"==(null==n?void 0:n.getKindName()),o=!!(null==n?void 0:n.getBody)&&!["PropertyAccessExpression","Identifier","NumericLiteral"].includes(null===(t=null==n?void 0:n.getBody())||void 0===t?void 0:t.getKindName());return r&&o},Ro=[{id:"Console",type:"CallExpression",check:function(e,t){var n;return"CallExpression"==e.type&&(null===(n=t.to)||void 0===n?void 0:n.startsWith("console."))},getComponent:lo,getInitialData:function(){return{to:"console.log",param1:'"Hello World"'}}},{id:"SetTimeout",type:"CallExpression",check:function(e,t){var n=null==t?void 0:t._astNode,r=!n||zo(n);return"CallExpression"==e.type&&"setTimeout"==t.to&&t.param1.startsWith("() =>")&&r},getComponent:vo,filterChildren:yo("1"),restoreChildren:ho("1"),getInitialData:function(){return{to:"setTimeout",param2:"1000",param1:"() =>"}}},{id:"SetInterval",type:"CallExpression",check:function(e,t){var n=null==t?void 0:t._astNode,r=!n||zo(n);return"CallExpression"==e.type&&"setInterval"==t.to&&t.param1.startsWith("() =>")&&r},getComponent:wo,filterChildren:yo("1"),restoreChildren:ho("1"),getInitialData:function(){return{to:"setInterval",param2:"1000",param1:"() =>"}}},{id:"Map",type:"CallExpression",check:function(e,t){var n,r=null==t?void 0:t._astNode,o=!r||zo(r);return"CallExpression"==e.type&&(null===(n=t.to)||void 0===n?void 0:n.endsWith(".map"))&&t.param1.startsWith("(item,i,) =>")&&o},getComponent:Do,filterChildren:yo("1"),restoreChildren:ho("1"),getInitialData:function(){return{to:".map",param1:"(item,i,) =>"}}},{id:"Filter",type:"CallExpression",check:function(e,t){var n,r=null==t?void 0:t._astNode,o=!r||zo(r);return"CallExpression"==e.type&&(null===(n=t.to)||void 0===n?void 0:n.endsWith(".filter"))&&t.param1.startsWith("(item,i,) =>")&&o},getComponent:No,filterChildren:yo("1"),restoreChildren:ho("1"),getInitialData:function(){return{to:".filter",param1:"(item,i,) =>"}}},{id:"Find",type:"CallExpression",check:function(e,t){var n,r=null==t?void 0:t._astNode,o=!r||zo(r);return"CallExpression"==e.type&&(null===(n=t.to)||void 0===n?void 0:n.endsWith(".find"))&&t.param1.startsWith("(item,i,) =>")&&o},getComponent:Fo,filterChildren:yo("1"),restoreChildren:ho("1"),getInitialData:function(){return{to:".find",param1:"(item,i,) =>"}}},{id:"Reduce",type:"CallExpression",check:function(e,t){var n,r=null==t?void 0:t._astNode,o=!r||zo(r);return"CallExpression"==e.type&&(null===(n=t.to)||void 0===n?void 0:n.endsWith(".reduce"))&&t.param1.startsWith("(total,item,i,) =>")&&o},getComponent:jo,filterChildren:yo("1"),restoreChildren:ho("1"),getInitialData:function(){return{to:".reduce",param1:"(total,item,i,) =>",param2:""}}},{id:"Fetch",type:"CallExpression",check:function(e,t){var n;return"CallExpression"==e.type&&(null===(n=t.to)||void 0===n?void 0:n.startsWith("fetch"))},getComponent:Mo,getInitialData:function(){return{to:"fetch",param1:'"/cloudapi/v1/"'}}}],Lo=function(e,t,n){if(!e)return null;var r=n.find((function(n){return n.check(e,t)}));return r||null};import Ho,{components as Ko}from"react-select";import Jo,{memo as _o,useContext as Vo,useEffect as qo}from"react";import{Handle as Xo,Position as Uo}from"reactflow";import Yo from"zustand";import Zo from"immer";var Go=Yo((function(e){return{zoom:0,setZoom:function(t){return e(Zo((function(e){e.zoom=t})))}}}));import Qo from"chroma-js";var $o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.35,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.45,r=Math.max(0,Math.min(1,e/1.5));return r=(r=r<t?0:r)>n?1:r},ei=function(e){return Math.max(12,50*(2-(e+.75)))};import{useEdges as ti}from"reactflow";var ni=function(e){var t=e.id,n=(e.type,e.style),r=e.label,o=e.isConnected,a=void 0!==o&&o,l=e.nodeId,u=e.position,c=void 0===u?Uo.Right:u,d=Jo.useRef(),s=Jo.useRef(),p=Vo(q)((function(e){return e.setMenu})),f=!t||-1==t.indexOf("_")?"grey":"black",m=c==Uo.Right?"-".concat(160,"px"):"25px",v=ti(),g=ri(v,t),y=function(){p("open",[(null==s?void 0:s.current.getBoundingClientRect().right)+200,(null==s?void 0:s.current.getBoundingClientRect().top)-30],{handleId:t,handleType:"target",nodeId:l})};return qo((function(){return Go.subscribe((function(e){d.current&&(d.current.style.opacity=$o(e.zoom))}))})),Jo.createElement(Jo.Fragment,null,Jo.createElement(Xo,{ref:s,tabIndex:g?-1:0,title:void 0,onClick:function(){return y()},onKeyDown:function(e){return"Enter"==e.code?y():null},type:"target",position:c,style:i({backgroundColor:"white",display:"flex",flexDirection:"row",alignItems:"center",marginTop:a?"-6px":"0px",border:"2px solid "+f,width:"15px",height:"15px",marginLeft:"",marginRight:"-2px",cursor:"pointer"},n),id:t,isConnectable:!g,isValidConnection:function(e){return!ri(v,e.sourceHandle)}},r?Jo.createElement("div",{style:{display:"flex",width:"".concat(160,"px"),marginLeft:m,zIndex:-1,justifyContent:"flex-end"}},Jo.createElement(E,{ref:d,style:{marginRight:"5px",textAlign:c==Uo.Right?"right":"left",color:"black"}},r)):null,Jo.createElement("div",{style:{fontSize:"9px",color:"black",marginLeft:"3px",marginBottom:"2px",pointerEvents:"none"}},g?"":"+")))},ri=function(e,t){return e.find((function(e){return e.targetHandle==t||e.sourceHandle==t}))},oi=_o((function(e){var t=e.icon,n=void 0===t?null:t,r=e.container,o=void 0!==r&&r,a=e.title,l=void 0===a?"":a,u=e.children,c=e.isPreview,d=void 0!==c&&c,s=e.id,p=e.color,f=void 0===p?"white":p,m=e.node,v=e.headerContent,g=void 0===v?null:v,y=e.style,h=void 0===y?{}:y,x=Vo(q)((function(e){return e.errorData})),b=Jo.useRef(),w=Jo.useRef(),k=Jo.useRef();Qo.scale([Qo.scale([f,"white"])(.5).hex(),"white"]).mode("lab");qo((function(){return Go.subscribe((function(e){if(console.log("zoom level: ",e.zoom),b.current)b.current;w.current,k.current&&(k.current.style.fontSize=ei(e.zoom)+"px")}))}),[]);var C=s&&s==x.id,D=!s||-1==s.indexOf("_");f=C?"#EF4444":!d&&D?Qo.scale([f,"white"])(.5).hex():f;var S=Qo.scale([f,"black"])(.6).hex(),T=Qo.scale([f,"black"])(.7).hex(),N=C?"#EF4444":D?"grey":"black";return Jo.createElement("div",{id:s,ref:b,style:i({display:"flex",minWidth:"200px",minHeight:d?"30px":"80px",flexDirection:"column",backgroundColor:o?"transparent":Z("nodeBackgroundColor"),border:d?"1px solid black":(null==m?void 0:m.selected)?"3px solid "+N:"2px solid "+N,borderRadius:10,textAlign:"center"},h)},l||g?Jo.createElement("div",{ref:w,style:{display:"flex",backgroundColor:f,borderRadius:d?"8px":"8px 8px 0px 0px",borderBottom:d?"0px":"2px solid "+N,paddingBottom:"10px",justifyContent:"center"}},n?Jo.createElement("div",{style:{display:"flex",right:"15px",position:"absolute",top:"8px"}},Jo.createElement(n,{size:25,color:S})):null,l?Jo.createElement(E,{style:{padding:"0px 10px 0px 10px",color:T,flex:1,textAlign:"center",alignSelf:"center",fontSize:"15px",position:"relative",top:"4px",fontFamily:"Jost-Medium",maxWidth:"25ch",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ref:k},l):null,null,g):null,d?Jo.createElement(Jo.Fragment,null):Jo.createElement(Jo.Fragment,null,u))}));import{withTopics as ii}from"react-topics";import{IoMdClose as ai}from"react-icons/io";import{FiChevronUp as li}from"react-icons/fi";import{TbAlertCircleFilled as ui}from"react-icons/tb";import{SketchPicker as ci}from"react-color";var di=function(e,t,n){return n.find((function(n){return n.targetHandle=="".concat(e).concat(A.data).concat(t)}))},si=function(e){var t,n,r=e.id,c=e.param,d=(e.index,e.portId),h=void 0===d?null:d,b=y().setNodes,w=p(q),k=w((function(e){return e.setNodeData})),C=w((function(e){return e.dataNotify})),D=w((function(e){return e.deletePropNodeData})),S=w((function(e){return null!==(t=e.nodeData[r])&&void 0!==t?t:{}})),T=w((function(e){return e.setMenu})),N=g(),P=N.find((function(e){return e.targetHandle=="".concat(r).concat(A.data).concat(c.field)})),O="case"==c.fieldType||"child"==c.fieldType||"Attribute"==c.label,F="parameter"==c.fieldType,I="prop"==c.fieldType,W=s.useRef(),j=s.useRef(),B=s.useRef(),M=s.useRef(),z=s.useRef(),R=c.pre?c.pre:function(e){return e},L=c.post?c.post:function(e){return e},H=null!==(n=R(F||I?S[c.field].value:S[c.field]))&&void 0!==n?n:"",K=l(s.useState(H),2),J=K[0],_=K[1],V=function(e){C(a(i({},e),{notifyId:S._dataNotifyId}))};f((function(){return Go.subscribe((function(e){W.current&&(W.current.style.opacity=$o(e.zoom)),j.current&&(j.current.style.opacity=$o(e.zoom)),B.current&&(B.current.style.flex=Math.min(.5,e.zoom-.25)),M.current&&(M.current.style.fontSize=ei(e.zoom)+"px",M.current.parentNode.style.borderWidth=$o(e.zoom,.7)+"px")}))})),f((function(){_(H)}),[S[c.field]]);var X=function(e){var t=e.id,n=e.left,r=void 0!==n&&n;return s.createElement("div",{id:t,style:{alignSelf:"center",cursor:"pointer"},onClick:Q},s.createElement(ai,{size:"15px",color:"#D87555",style:{marginLeft:r?"-5px":"5px",marginRight:r?"8px":"-8px"}}))},U=function(e){switch(c.type){case"select":case"color":var t,n,d,p="color"==c.type,f={control:function(e){return a(i({},e),{color:"red"})},singleValue:function(e,t){t.data;return a(i({},e),{fontFamily:"Jost-Medium",fontSize:"12px",minWidth:"95px",textAlign:"left"})},menu:function(e){return a(i({},e),{width:"fit-content"})},option:function(e,t){var n=t.data,r=n.color?i({},function(){return{alignItems:"center",display:"flex",":before":{backgroundColor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent",borderRadius:10,border:"1px solid #DDD",content:'" "',display:"block",marginRight:8,height:10,width:10}}}(n.color)):{};return i(a(i({},e),{":active":a(i({},e[":active"]),{color:"green"}),fontSize:"12px",textAlign:"left"}),r)}},m=null===(t=c.data)||void 0===t?void 0:t.map((function(e,t){return p?{label:e.value,value:e.value,color:e.color}:i({label:e,value:e},e.color?{color:e.color}:{})}));return s.createElement("div",{style:{zIndex:1e3}},s.createElement(Ho,{components:{DropdownIndicator:function(e){return Ko.DropdownIndicator&&s.createElement(Ko.DropdownIndicator,i({},e),s.createElement(li,{size:"15px"}))}},menuPlacement:"top",onChange:function(e){if(p){var t=i({},S[c.field]);t.value=null==e?void 0:e.value,k(r,a(i({},S),o({},c.field,t))),V({id:r,paramField:c.field,newValue:t})}else k(r,a(i({},S),o({},c.field,null==e?void 0:e.value))),V({id:r,paramField:c.field,newValue:null==e?void 0:e.value})},defaultValue:{value:p?null===(n=S[c.field])||void 0===n?void 0:n.value:S[c.field],label:p?null===(d=S[c.field])||void 0===d?void 0:d.value:S[c.field]},className:"nodrag",options:m,styles:f}));case"colorPicker":var v=S[c.field]?R(S[c.field]):{r:242,g:177,b:52,a:1},g=l(s.useState(!1),2),y=g[0],h=g[1];return s.createElement("div",{style:{cursor:"pointer"}},s.createElement("div",{style:{width:"36px",height:"36px",backgroundColor:"rgba(".concat(v.r,",").concat(v.g,",").concat(v.b,",").concat(v.a,")"),border:y?"2px black solid":"1px #cccccc solid",borderRadius:5},onClick:function(){h(!y)}}),s.createElement("div",{style:{cursor:"pointer",position:"absolute",zIndex:1100}},y?s.createElement(ci,{className:"nodrag",color:v,onChangeComplete:function(e){V({id:r,paramField:c.field,newValue:{r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,a:e.rgb.a}}),k(r,a(i({},S),o({},c.field,L({r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,a:e.rgb.a}))))}}):null));case"range":var w,C,D=(null===(w=c.data)||void 0===w?void 0:w.min)?c.data.min:0,T=(null===(C=c.data)||void 0===C?void 0:C.max)?c.data.max:100,N=S[c.field]?S[c.field]:D,P=l(s.useState(N),2),O=P[0],W=P[1];return s.createElement(s.Fragment,null,s.createElement("input",{type:"range",style:{maxWidth:"225px",marginTop:"6px"},onChange:function(e){return W(e.target.value)},onMouseUp:function(){V({id:r,paramField:c.field,newValue:O}),k(r,a(i({},S),o({},c.field,O)))},value:O,min:D,max:T,className:"nodrag"}),c.hideLabel?null:s.createElement("div",{style:{fontSize:"14px",position:"relative",top:"5px",left:"7px"}},S[c.field]?S[c.field]:D));case"boolean":var B=l(s.useState(S[c.field]),2),A=B[0],z=B[1];return s.createElement("span",{ref:j},s.createElement("input",{type:"checkbox",onChange:function(){V({id:r,paramField:c.field,newValue:!A}),k(r,a(i({},S),o({},c.field,!A))),z(!A)},checked:A,style:{margin:"2px 0px 2px 0px"}}));default:return s.createElement("div",{className:"nodrag"},s.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"}},s.createElement(x,{ref:M,onFocus:function(){b((function(e){var t=u(e);t=t.map((function(e){return e.hasOwnProperty("selected")&&delete e.selected,e}));var n=t.findIndex((function(e){return e.id==r}));return t[n]=a(i({},t[n]),{selected:!0}),t}))},onBlur:function(){e||(k(r,a(i({},S),o({},c.field,L(F||I?{key:S[c.field].key,value:J}:J)))),V({id:r,paramField:c.field,newValue:J})),c.onBlur&&c.onBlur()},isDisabled:c.isDisabled,style:{border:Z("inputBorder"),color:Z("textColor"),backgroundColor:Z("inputBackgroundColor"),marginRight:["case","child"].includes(c.fieldType)?"20px":"0px",fontWeight:"medium"},value:J,onChange:function(e){return _(e.target.value)}}),c.error?s.createElement("div",{style:{alignItems:"center",marginTop:"5px",display:"flex"}},s.createElement(ui,{size:"14px",color:"red",style:{alignSelf:"center",marginRight:"5px"}}),s.createElement(E,{style:{color:"red",fontSize:"12px"}},c.error)," "):null))}},Y="case"==c.fieldType&&"default"==c.field,G="call"==c.fieldType,Q=function(){D(r,c.field)},$=function(e,t){T("open",[(null==z?void 0:z.current.getBoundingClientRect().right)+200,(null==z?void 0:z.current.getBoundingClientRect().top)-30],{handleId:e,handleType:"target",nodeId:t})};return s.createElement("div",{ref:z,style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",zIndex:"select"==c.type||"colorPicker"==c.type?1100:0,flexDirection:"column"}},Y?null:s.createElement("div",{style:{padding:"8px 15px 8px 15px",maxHeight:"60px",display:"flex",flexDirection:"row",alignItems:"center",width:"265px"}},s.createElement("div",{ref:B,style:{display:"flex",flexDirection:"row",flex:F||I?1:.5}},(null==c?void 0:c.deleteable)&&O?s.createElement(X,{id:"deleteButton-"+r+c.field,left:!0}):null,function(){var e;if(!F&&!I||c.static)return s.createElement(E,{ref:W,style:{marginRight:"12px",marginTop:"8px",color:P?"black":"#D6D3D1",textAlign:"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"90px",cursor:"auto"}},null!==(e=null==c?void 0:c.label)&&void 0!==e?e:c.field);var t,n=null!==(t=S[c.field].key)&&void 0!==t?t:"",u=l(s.useState(n),2),d=u[0],p=u[1];return f((function(){p(n)}),[S[c.field]]),s.createElement(s.Fragment,null,s.createElement(x,{value:d,onBlur:function(){k(r,a(i({},S),o({},c.field,{key:d,value:S[c.field].value})))},onChange:function(e){return p(e.target.value)},style:{marginRight:2,maxWidth:"80%",fontWeight:"medium"}}),P?null:s.createElement(E,{style:{marginRight:"12px",color:"#D6D3D1",alignSelf:"center"}},"doubleParameter"==c.subType?":":"="))}()),s.createElement("div",{title:c.description,style:{display:"flex",flexDirection:"row",flex:1,justifyContent:"boolean"==c.type?"flex-end":""}},P?U(!0):U(),(null==c?void 0:c.deleteable)&&!O?s.createElement(X,{id:"deleteButton-"+r+c.field}):null)),c.static||G?null:s.createElement(s.Fragment,null,"doubleParameter"==c.subType?s.createElement(m,{tabIndex:ri(N,"".concat(null!=h?h:r).concat(A.data).concat(c.field,"-key"))?-1:0,onClick:function(){return $("".concat(r).concat(A.data).concat(c.field,"-key"),r)},onKeyDown:function(e){return"Enter"==e.code?$("".concat(r).concat(A.data).concat(c.field,"-key"),r):null},type:"target",title:void 0,style:{top:"33px",width:"15px",height:"15px",backgroundColor:"black",marginRight:"-4px",border:"2px solid white",cursor:"pointer"},position:v.Right,id:"".concat(null!=h?h:r).concat(A.data).concat(c.field,"-key"),isConnectable:!ri(N,"".concat(null!=h?h:r).concat(A.data).concat(c.field,"-key"))},s.createElement("div",{style:{fontSize:"8.5px",color:"white",pointerEvents:"none"}},ri(N,"".concat(null!=h?h:r).concat(A.data).concat(c.field,"-key"))?"":"L")):null,s.createElement(m,{tabIndex:ri(N,"".concat(null!=h?h:r).concat(A.data).concat(c.field))?-1:0,onClick:function(){return $("".concat(null!=h?h:r).concat(A.data).concat(c.field),r)},onKeyDown:function(e){return"Enter"==e.code?$("".concat(null!=h?h:r).concat(A.data).concat(c.field),r):null},type:"target",title:void 0,style:{marginTop:"doubleParameter"==c.subType?"-6px":"0px",width:"15px",height:"15px",backgroundColor:"black",marginRight:"-4px",border:"2px solid white",cursor:"pointer"},position:v.Right,id:"".concat(null!=h?h:r).concat(A.data).concat(c.field),isConnectable:!ri(N,"".concat(null!=h?h:r).concat(A.data).concat(c.field)),isValidConnection:function(e){return!ri(N,e.sourceHandle)}},s.createElement("div",{style:{fontSize:"8.5px",color:"white",pointerEvents:"none"}},ri(N,"".concat(null!=h?h:r).concat(A.data).concat(c.field))?"":"doubleParameter"==c.subType?"R":"+"))),"error"==c.type?s.createElement(m,{type:"source",title:void 0,style:{width:"15px",height:"15px",backgroundColor:"black",marginRight:"-4px",border:"2px solid white"},position:v.Right,id:"".concat(null!=h?h:r).concat(A.data).concat(c.field)}):null,"case"==c.fieldType?s.createElement(mi,{id:"".concat(null!=h?h:r).concat(A.flow).concat(c.field),type:"output",style:{top:"26px"},label:Y?"Default":void 0,isConnected:!!P}):null,"call"==c.fieldType?s.createElement(mi,{id:r,handleId:"call",type:"input",style:{top:"26px"},isConnected:!!N.find((function(e){return e.targetHandle=="".concat(r).concat(A.flow).concat(c.field)}))}):null)},pi=function(e){var t=e.id,n=e.param,r=e.position,o=void 0===r?null:r,a=e.style,l=void 0===a?{}:a,u=(e.isConnected,s.useRef()),c=y().getEdges,d=ri(c(),"".concat(t).concat(A.data,"output"));return s.useEffect((function(){return Go.subscribe((function(e){u.current&&(u.current.style.opacity=$o(e.zoom))}))})),s.createElement("div",{style:{display:"flex",flexDirection:"column",zIndex:222}},n.label?s.createElement("div",{style:{padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row"}},s.createElement(E,{ref:u,style:{marginRight:"12px"}},n.label)):null,s.createElement(m,{type:"source",style:i({width:"15px",height:"15px",backgroundColor:"white",top:"22px",marginLeft:"-4px",border:"2px solid black"},l),position:null!=o?o:v.Left,title:void 0,id:"".concat(t).concat(A.data,"output"),isConnectable:!d,isValidConnection:function(e){return!ri(c(),e.targetHandle)}}))},fi=function(e){var t=e.id,n=e.params,r=e.boxStyle,o=void 0===r?{}:r,a=e.children,l=void 0===a?null:a,u=e.portId,c=void 0===u?null:u;return s.createElement("div",{style:i({display:"flex",flexDirection:"column"},o)},n.map((function(e,n){return s.createElement(si,{key:n,id:t,param:e,index:n,portId:c})})),l)},mi=function(e){var t=e.id,n=e.type,r=e.style,o=e.handleId,l=e.label,u=e.isConnected,c=void 0!==u&&u,d=e.position,p=void 0===d?null:d,f=v.Right;return s.createElement(ni,{position:null!=p?p:f,id:"".concat(t).concat(A.flow).concat(null!=o?o:n),type:n,style:a(i({},r),{marginLeft:f==v.Left?-4:0}),label:l,isConnected:c,nodeId:t})},vi=ii((function(e){var t,n=e.icon,r=void 0===n?null:n,o=e.container,a=void 0!==o&&o,l=e.title,u=void 0===l?"":l,c=e.children,d=e.isPreview,f=void 0!==d&&d,m=e.id,v=e.params,g=void 0===v?[]:v,y=e.output,h=void 0===y?{label:"",field:"value",type:"output"}:y,x=e.color,b=void 0===x?ro.defaultColor:x,E=e.node,w=e.skipCustom,k=void 0!==w&&w,C=e.topics,D=e.style,S=void 0===D?{}:D,T=p(q),N=T((function(e){return null!==(t=e.nodeData[m])&&void 0!==t?t:{}})),P=T((function(e){return e.customComponents}));if(!k){var O,F=null===(O=Lo(E,N,P))||void 0===O?void 0:O.getComponent(E,N,C);if(F)return F}var I=!1;for(var W in c){var j,B;"HandleOutput"==(null===(j=c[W])||void 0===j||null===(B=j.type)||void 0===B?void 0:B.name)&&(I=!0)}var A=E&&E.data&&E.data.width&&E.data.height?{minWidth:E.data.width+"px",minHeight:E.data.height+"px"}:{};return s.createElement(oi,{icon:r,container:a,title:u,isPreview:f,id:m,color:b,node:E,style:i({},S,A),headerContent:s.createElement(s.Fragment,null,I||f||!h?null:s.createElement(pi,{id:m,param:h}))},null,!f&&g?s.createElement(fi,{id:m,params:g}):null,f?null:c)}));import gi,{useCallback as yi,useMemo as hi,useEffect as xi,useRef as bi,useState as Ei,useContext as wi}from"react";import{useNodesState as ki,useEdgesState as Ci,addEdge as Di,Panel as Si}from"reactflow";import"reactflow/dist/style.css";import Ti from"deep-diff";function Ni(e,t){return Ti.diff(e,t)}import Pi,{useState as Oi,useRef as Fi,useLayoutEffect as Ii,useContext as Wi,useEffect as ji,useCallback as Bi}from"react";import{Panel as Ai,useReactFlow as Mi}from"reactflow";var zi={};import{withTopics as Ri}from"react-topics";import{Project as Li,IndentationText as Hi,ScriptTarget as Ki,ScriptKind as Ji,LanguageVariant as _i,SyntaxKind as Vi}from"ts-morph";var qi=function(e,t){var n,r=Object.keys(e).reduce((function(r,l){if(l.startsWith("child-")){var u=Number(l.split("child-")[1]);return u===t?(n=e[l],r):a(i({},r),o({},u>t?"child-"+(u-1):l,e[l]))}return a(i({},r),o({},l,e[l]))}),{});return{data:r,deletedElementData:n}},Xi=function(e,t,n){var r,l=null===(r=Object.keys(e))||void 0===r?void 0:r.filter((function(e){return e.startsWith("child-")})).length;return u(Object.keys(e)).concat(["child-"+(l+1)]).reduce((function(r,l){if(l.startsWith("child-")){var u=Number(l.split("child-")[1]);if(u===t)return a(i({},r),o({},"child-"+t,n));if(u>t)return a(i({},r),o({},"child-"+u,e["child-"+(u-1)]))}return a(i({},r),o({},l,e[l]))}),{})},Ui=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,l=[];if(e.forEach((function(e){var t=i({},e),u=Number(t.targetHandle.split(n+"-child-")[1]),c=Number(t.targetHandle.split(o+"-child-")[1]);u?u>r?(t.targetHandle=n+"-child-"+(u-1),l.push(t)):u<r&&l.push(t):c&&c>a-1?(t.targetHandle=o+"-child-"+(c+1),l.push(t)):l.push(t)})),o&&a){var u={id:F(),targetHandle:o+"-child-"+a,target:o,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};l.push(u)}return l},Yi=function(e,t,n,r){var o=[];e.forEach((function(e){var t=i({},e);if(!t.targetHandle.startsWith(n+"-child-")||t.targetHandle.split(n+"-child-")[1]<r)o.push(t);else{var a=t.targetHandle.split(n+"-child-")[1];a>=r&&(t.targetHandle=n+"-child-"+(Number(a)+1),o.push(t))}}));var a={id:F(),targetHandle:n+"-child-"+r,target:n,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};return o.push(a),o},Zi=function(e){if(!e)return{};var t=e.getInitialData();return(null==e?void 0:e.defaultProps)&&(t=a(i({},t,e.defaultProps),{_defaultProps:e.defaultProps})),(null==e?void 0:e.defaultFallbackProps)&&(t=a(i({},t,null==e?void 0:e.defaultFallbackProps),{_defaultFallbackProps:e.defaultFallbackProps})),i({},t)},Gi=function(e){return Object.keys(e).reduce((function(t,n){var r=e[n],l=Object.keys(r).reduce((function(e,t){return t.startsWith("_")||"connections"==t||(e=a(i({},e),o({},t,r[t]))),e}),{});return t=a(i({},t),o({},n,l))}),{})},Qi=function(e,t,n,r,o){var i=to[o].type;return null==i?void 0:i.dump({id:r,type:o},e,t,n)},$i=function(e,t){var n=t.find((function(t){return t.source==e}));if(n){var r=n.targetHandle;return"JsxElement"===r.split("_")[0]?r:$i(n.target,t)}},ea=function(e,t,n,r,o,i){var a,l,u,c,d=Qi(e,t,n,r,o),s=null===(a=null===(l=null===(u=ta(d).getFirstDescendantByKind(Vi.JsxElement))||void 0===u?void 0:u.getOpeningElement())||void 0===l?void 0:l.getAttributes())||void 0===a?void 0:a.find((function(e){return(null==e?void 0:e.getName())==i}));return null===(c=null==s?void 0:s.getInitializer())||void 0===c?void 0:c.getText()},ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customCode.tsx";return new Li({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:Hi.Tab},compilerOptions:{target:Ki.Latest,scriptKind:Ji.TSX,languageVariant:_i.JSX}}).createSourceFile(t,e,{overwrite:!0})};import{MdSearch as na}from"react-icons/md";var ra=Ri((function(e){var t,n,o=e.hideBaseComponents,a=e.customComponents,c=void 0===a?[]:a,s=(e.style,e.setNodes),p=e.setNodeData,f=e.edges,m=e.setEdges,v=e.takeSnapshot,g=void 0===v?function(){return null}:v,y=e.reactFlowWrapper,h=void 0===y?null:y,x=e.topics,b=e.onAddNode,w=void 0===b?function(e,t,n){return null}:b,k=Fi(),C=Fi(),D=Fi(),S=l(Oi(""),2),T=S[0],N=S[1],P=l(Oi(0),2),O=P[0],W=P[1],j=Wi(q),B=j((function(e){return e.menuState})),A=j((function(e){return e.menuPosition})),z=j((function(e){return e.menuOpener})),R=j((function(e){return e.setMenu})),L=Mi(),H=L.project,K=L.setViewport,J=x.publish,_=l(Oi(window.innerHeight),2),V=_[0],X=_[1],U=230,Y=500,Z=150,G=function(){var e=A[0]-110;return e<100||(null==h?void 0:h.current.offsetWidth)-U-Z<100?100:e+U+Z<(null==h?void 0:h.current.offsetWidth)?e:(null==h?void 0:h.current.offsetWidth)-U-Z},Q=null===(t=z.handleId)||void 0===t?void 0:t.replace(z.nodeId,"").slice(1),$=Object.keys(oo),ee=c,te=!1,ne=Object.keys(M).find((function(e){return Q.startsWith(e)}));"param"==ne&&(null===(n=z.handleId)||void 0===n?void 0:n.endsWith("-key"))&&(ne="key"),ne&&M[ne].length&&($=Object.keys(oo).filter((function(e){return M[ne].includes(e)})),ee=c.filter((function(e){return M[ne].includes(e.type)})),te=!0);var re=T?Object.keys(oo).filter((function(e){var t,n=null!==(t=oo[e].type)&&void 0!==t?t:oo[e],r=u(n.keyWords).concat([n.name]);return null==r?void 0:r.map((function(e){return e.toLowerCase()})).join().includes(T.toLowerCase())})):$,oe=T?c.filter((function(e){return e.id.toLowerCase().replace(/\s+/g,"").includes(T.toLowerCase().replace(/\s+/g,""))})):ee,ie="open"!=B?{top:"-5000px"}:{top:function(){var e=A[1]-30;return e<70?70:e+Y+Z<V?e:V-Y-Z}()+"px",left:G()+"px"},ae=function(){var e=r((function(e,t){var n,r,o,i,a,l;return d(this,(function(u){switch(u.label){case 0:return g(),N(""),n=F(),r=Zi(t),p(n,r),o=H({x:G(),y:A[1]}),i=I([o.x,o.y-70],e,n,{},!0,{},r),[4,s((function(e){return e.concat(i)}))];case 1:return u.sent(),a={animated:!1,id:F(),source:n,sourceHandle:n+"-output",target:z.nodeId,targetHandle:z.handleId,type:"custom"},[4,m(f.concat(a))];case 2:u.sent(),w(i[0],a,r),R("closed"),l=function(){var e=document.getElementById(n),t=-i[0].position.x,r=-i[0].position.y;if(e){var o=e.querySelector("input:first-of-type");if(o)return setTimeout((function(){o.focus(),le(t,r)}),1);var a=e.querySelector("div > [role='button']:first-of-type");return a?setTimeout((function(){a.focus(),le(t,r)}),1):void 0}};try{l()}catch(e){console.error("Error focusing element. ",e)}return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),le=Bi((function(e,t){K({x:e+(null==h?void 0:h.current.offsetWidth)/2.3,y:t+(null==h?void 0:h.current.offsetHeight)/3,zoom:1},{duration:800})}),[K]),ue=function(e){return Pi.createElement("div",{style:{display:"flex",border:e.isSelected?"2px solid black":"0px solid transparent",borderRadius:"12px",alignItems:"stretch",backgroundColor:"rgba(0, 0, 0, 0)",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",minHeight:"0px",minWidth:"0px",padding:"0px",position:"relative",textDecoration:"none",zIndex:"0"}},e.children)};return Ii((function(){var e=function(){X(window.outerHeight)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[h]),ji((function(){if("closed"!=B)try{null==C||C.current.focus()}catch(e){console.error("error focusing element. ",e)}J("menuState",{state:B})}),[B]),Pi.createElement(Ai,{position:"top-left"},Pi.createElement("div",{onClick:function(){return R("closed")},style:{display:"closed"==B?"none":"flex",height:"100vh",width:"100vw",position:"absolute"}}),Pi.createElement("div",{style:i({height:Y,margin:"0px",position:"absolute",border:"2px solid grey",borderRadius:"10px"},ie)},Pi.createElement("div",{ref:k,style:{height:"100%",width:U,backgroundColor:"white",borderRadius:"10px",paddingBottom:"20px",padding:"10px"}},Pi.createElement("div",{style:{height:50}},Pi.createElement("input",{ref:C,style:{fontFamily:"Jost-Regular",padding:"8px",border:"1px solid #CCCCCC",display:"flex",flex:1,width:"100%",boxSizing:"border-box",fontSize:"14px",backgroundColor:"rgb(231, 229, 228)",borderRadius:"6px",borderWidth:"0px",outline:"none",paddingLeft:"32px"},value:T,onKeyDown:function(e){"Enter"==e.key?O+1>oe.length&&re.length?ae(re[O-oe.length]):oe.length&&ae(oe[O].type,oe[O]):"ArrowDown"==e.key&&O<oe.length+re.length-1?(W(O+1),D.current.scrollBy({top:44,behavior:"smooth"})):"ArrowUp"==e.key&&O>0?(W(O-1),D.current.scrollBy({top:-44,behavior:"smooth"})):W(0)},onChange:function(e){return N(e.target.value)},placeholder:"search nodes"}),Pi.createElement(na,{color:"#57534e",size:20,style:{marginRight:"-5px",marginLeft:"8px",position:"absolute",top:18}})),Pi.createElement("div",{ref:D,className:zi.list,style:{overflow:"scroll",overflowX:"hidden",display:"flex",flexDirection:"column",height:420}},!o&&oe.length?Pi.createElement(E,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px",color:"black"}},"Custom ",te&&!T.length?"(Suggestions)":""):null,c.map((function(e,t){var n=oe.map((function(e){return e.id.toLowerCase().replace(/\s+/g,"")})).indexOf(e.id.toLowerCase().replace(/\s+/g,""))==O;return e.hidden?null:Pi.createElement("div",{key:t,onClick:function(){return ae(e.type,e)},style:{display:oe.map((function(e){return e.id.toLowerCase().replace(/\s+/g,"")})).includes(e.id.toLowerCase().replace(/\s+/g,""))?"flex":"none",marginBottom:"10px"}},Pi.createElement(ue,{isSelected:n},e.getComponent({type:e.type})))})),!o&&oe.length?Pi.createElement("div",{style:{margin:"10px 0px 10px 0px"}}):null,!o&&re.length?Pi.createElement(Pi.Fragment,null,Pi.createElement(E,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px",color:"black"}},"JavaScript ",te&&!T.length?"(Suggestions)":""),re.map((function(e,t){return Pi.createElement("div",{onClick:function(){return ae(e)},key:t,style:{marginBottom:"10px"}},Pi.createElement(ue,{isSelected:oe.length+t==O},Pi.createElement(oo[e],{type:e})))}))):null))))}));import oa from"react";import ia from"react";import{getBezierPath as aa}from"reactflow";function la(e){var t=e.id,n=e.sourceX,r=e.sourceY,o=e.targetX,i=e.targetY,a=e.sourcePosition,u=e.targetPosition,c=(e.style,e.markerEnd,e.targetHandleId,e.sourceHandleId,e.selected),d=e.color,s=l(aa({sourceX:n===o?n+1e-4:n,sourceY:r===i?r+1e-4:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:u}),1)[0];return ia.createElement(ia.Fragment,null,ia.createElement("path",{id:t,strokeWidth:c?4:2,stroke:d,className:"react-flow__edge",d:s,fill:"none"}),ia.createElement("path",{id:t,className:"react-flow__edge-interaction",d:s,strokeOpacity:"0",strokeWidth:"20",fill:"none"}))}function ua(e){return oa.createElement(la,i({},a(i({},e),{color:Z("edgeColor")})))}import ca,{useCallback as da,useContext as sa}from"react";import{useReactFlow as pa}from"reactflow";import{MdRefresh as fa,MdCode as ma,MdSave as va,MdOutlineErrorOutline as ga,MdOutlineCropFree as ya}from"react-icons/md/index.js";import{CgAlignLeft as ha}from"react-icons/cg";import xa from"elkjs/lib/elk.bundled.js";var ba=function(e){return{layoutOptions:{"elk.padding":""},id:e.id,width:e.width,height:e.height,children:e.children?e.children.map((function(e){return ba(e)})):[]}},Ea=function(){var e=r((function(e,t){var n,r,o,a,l,u,c=arguments;return d(this,(function(d){switch(d.label){case 0:return c.length>2&&void 0!==c[2]?c[2]:"LR",c.length>3&&void 0!==c[3]?c[3]:null,n=!(c.length>4&&void 0!==c[4])||c[4],r=new xa,o={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":Re,"elk.layered.considerModelOrder.strategy":"PREFER_EDGES","elk.hierarchyHandling":"INCLUDE_CHILDREN"},children:e.map((function(e){return ba(e)})),edges:[]},a=function(e){var t=[],n=function(e,r,o){var a=i({},e);delete a.children,o&&(a.parentNode=o),t.push(a),e.children&&e.children.forEach((function(t){return n(t,r,e.id)}))};return e.forEach((function(e){return n(e,o,null)})),t},l=a(e),t.filter((function(e){return l.find((function(t){return t&&t.id==e.source}))&&l.find((function(t){return t&&t.id==e.target}))})).sort((function(e,t){if(!n)return 0;var r=e.targetHandle.split("_"),o=t.targetHandle.split("_"),i=r[r.length-1],a=o[o.length-1];return i.startsWith("block")&&a.startsWith("block")&&e.target==t.target?parseInt(i.substr(5),10)-parseInt(a.substr(5),10):0})).forEach((function(e){o.edges.push({id:e.id,sources:[e.source],targets:[e.target]})})),[4,r.layout(o)];case 1:return d.sent(),u=function(e){return e.forEach((function(e){var t=l.find((function(t){return t.id==e.id}));t&&(t.position={x:e.x,y:e.y},e.children&&e.children.length&&(t.data.height=e.height,t.data.width=e.width)),e&&e.children&&u(e.children)}))},u(o.children),[2,{nodes:l,edges:t}]}}))}));return function(t,n){return e.apply(this,arguments)}}(),wa=Ea,ka=function(e){var t=e.hasChanges,n=e.onReload,o=e.onSave,l=e.onShowCode,u=25,c=sa(q)((function(e){return e.saveStatus})),s=pa(),p=s.fitView,f=s.setNodes,m=s.setEdges,v=s.getEdges,g=s.getNodes,y=da((function(){p({zoom:1,duration:800,padding:.5})}),[p]),h=function(){var e=r((function(){var e,t,n,r,o;return d(this,(function(l){switch(l.label){case 0:return e=g(),t=v(),e.map((function(e){return{id:e.id,position:e.position}})),n=e.map((function(e){return a(i({},e),{position:{x:0,y:0},width:360,height:300})})),[4,wa(n,t,null,null)];case 1:return r=l.sent(),o=r.nodes,r.edges,f(o),m(t),[2]}}))}));return function(){return e.apply(this,arguments)}}();return ca.createElement(ca.Fragment,null,ca.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"auto",right:0,left:0,justifyContent:"center",marginTop:"20px"}},o?ca.createElement("div",{onClick:function(){return o()},style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"error"==c?"#EF4444":t?"#373737":"#BFBFBF",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"}},"loading"==c?ca.createElement("div",{id:"spinner",className:"lds-ring"},ca.createElement("div",null),ca.createElement("div",null),ca.createElement("div",null),ca.createElement("div",null)):"error"==c?ca.createElement(ga,{color:"white",size:u}):ca.createElement(va,{color:"white",size:u})):null,l?ca.createElement("div",{onClick:function(){return l()},style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"}},ca.createElement(ma,{color:"white",size:u})):null,n?ca.createElement("div",{onClick:function(){return n()},style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"}},ca.createElement(fa,{color:"white",size:u})):null,ca.createElement("div",{onClick:function(){return y()},style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"}},ca.createElement(ya,{color:"white",size:u})),ca.createElement("div",{onClick:function(){return h()},style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"}},ca.createElement(ha,{color:"white",size:u}))))};import Ca,{useCallback as Da,useRef as Sa,useState as Ta,useContext as Na,useEffect as Pa,cloneElement as Oa}from"react";import Fa,{MiniMap as Ia,Background as Wa,ReactFlowProvider as ja,useReactFlow as Ba}from"reactflow";import"reactflow/dist/style.css";import{useCallback as Aa,useState as Ma,useContext as za}from"react";import{useReactFlow as Ra}from"reactflow";var La={maxHistorySize:100,enableShortcuts:!1},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=e.maxHistorySize,n=void 0===t?La.maxHistorySize:t,o=(e.enableShortcuts,za(q)),i=o((function(e){return e.nodeData})),a=o((function(e){return e.setNodesData})),c=l(Ma([]),2),s=c[0],p=c[1],f=l(Ma([]),2),m=f[0],v=f[1],g=Ra(),y=g.setNodes,h=g.setEdges,x=g.getNodes,b=g.getEdges,E=(g.deleteElements,Aa((function(e){p((function(t){return u(t.slice(t.length-n+1,t.length)).concat([{nodes:x(),edges:b(),nodeData:e||i}])})),v([])}),[x,b,n])),w=function(){var e=r((function(e){var t,n,r,o,i,a;return d(this,(function(l){switch(l.label){case 0:return o=null!==(r=null===(t=s[s.length-1])||void 0===t?void 0:t.nodeData)&&void 0!==r?r:{},a=null!==(i=null===(n=m[m.length-1])||void 0===n?void 0:n.nodeData)&&void 0!==i?i:{},(Object.keys(o).length||"undo"!=e)&&(Object.keys(a).length||"redo"!=e)?[4,y([])]:[2];case 1:return[2,l.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),k=Aa((function(){var e=s[s.length-1];e&&(p((function(e){return e.slice(0,e.length-1)})),v((function(e){return u(e).concat([{nodes:x(),edges:b(),nodeData:i}])})),y(e.nodes),h(e.edges),Object.keys(e.nodeData).length&&a(e.nodeData))}),[y,h,x,b,s,a]),C=Aa((function(){var e=m[m.length-1];e&&(v((function(e){return e.slice(0,e.length-1)})),p((function(e){return u(e).concat([{nodes:x(),edges:b(),nodeData:i}])})),y(e.nodes),h(e.edges),Object.keys(e.nodeData).length&&a(e.nodeData))}),[y,h,x,b,m,a]);return{undo:k,redo:C,takeSnapshot:E,canUndo:!s.length,canRedo:!m.length,clearNodes:w}};import Ka from"react-use-keypress";import Ja from"react";import{useOnSelectionChange as _a}from"reactflow";var Va=function(e){var t=e.onSelectionChange;return _a({onChange:function(e){var n=e.nodes,r=e.edges;return t(n,r)}}),Ja.createElement(Ja.Fragment,null)};import qa from"react";import{useStore as Xa}from"reactflow";var Ua=function(){Xa((function(e){return e.transform[2]})),Go((function(e){return e.setZoom}));return qa.createElement(qa.Fragment,null)};import{withTopics as Ya}from"react-topics";var Za=function(e){var t,n,u=e.componentsMenu,c=void 0===u?Ca.createElement(Ca.Fragment,null):u,s=e.disableMiniMap,p=void 0!==s&&s,f=e.disableDots,m=void 0!==f&&f,v=e.edgeTypes,g=void 0===v?[]:v,y=e.nodeTypes,h=void 0===y?[]:y,x=e.edges,b=void 0===x?[]:x,E=e.nodes,w=void 0===E?[]:E,k=e.onInit,C=void 0===k?function(e){}:k,D=e.onNodesChange,S=void 0===D?function(){}:D,T=e.onEdgesChange,N=void 0===T?function(){}:T,P=e.onConnect,O=void 0===P?function(){}:P,F=e.style,I=void 0===F?{}:F,W=e.onSelectionChange,j=void 0===W?function(){}:W,B=e.onNodeClick,A=void 0===B?function(){}:B,M=e.onNodesDelete,z=e.children,R=void 0===z?null:z,L=e.topics,H=e.themeMode,K=void 0===H?"light":H,J=Sa(null),_=(null===(t=null===(n=J.current)||void 0===n?void 0:n.getBoundingClientRect())||void 0===t?void 0:t.height)>0,V=Na(q),X=V((function(e){return e.nodeData})),U=V((function(e){return e.setTemeMode})),Y=l(Ta([]),2),Z=Y[0],G=Y[1],Q=Ba(),$=Q.project,ee=Q.setViewport,te=Q.getNodes,ne=Ha(),re=ne.undo,oe=ne.redo,ie=ne.takeSnapshot,ae=ne.clearNodes,le=Sa(null),ue=V((function(e){return e.setMenu})),ce=V((function(e){return e.setNodeData})),de=l(Ta([]),2),se=de[0],pe=de[1],fe=L.data,me=L.publish,ve=Da((function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),ge=Da((function(){ie()}),[ie]),ye=Da((function(){ie()}),[ie]),he=Da((function(e){M(e),ie()}),[ie,me]),xe=Da((function(e){!function(e){e.forEach((function(e){var t=e.target,n=X[t],r=e.targetHandle.replace(t,"").slice(1);r&&ce(t,a(i({},n),o({},r,"null")))}))}(e),ie()}),[ie,X]),be=Da((function(e,t){le.current=t}),[]),Ee=Da((function(e){var t;e.target.classList.contains("react-flow__pane")&&"target"==(null===(t=le.current)||void 0===t?void 0:t.handleType)&&ue("open",[e.clientX,e.clientY],le.current)}),[$]),we=Da((function(e){var t=te().find((function(t){return t.id==e}));if(t){var n=t.position.x,r=t.position.y;ee({x:30-n,y:100-r,zoom:1},{duration:800})}}),[ee]);return Ka(["z","Z"],function(){var e=r((function(e){return d(this,(function(t){switch(t.label){case 0:return _?"z"!=e.key&&"Z"!=e.key||!e.ctrlKey&&!e.metaKey||!e.shiftKey?[3,2]:(e.preventDefault(),[4,ae("redo")]):[2];case 1:return t.sent(),[2,oe()];case 2:return"z"!=e.key&&"Z"!=e.key||!e.ctrlKey&&!e.metaKey?[3,4]:(e.preventDefault(),[4,ae("undo")]);case 3:return t.sent(),[2,re()];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),Pa((function(){U(K)}),[K]),Pa((function(){Z.push(X),G(Z)}),[X]),Pa((function(){var e,t,n;if(document.activeElement){var r=null===(e=document.activeElement.id)||void 0===e?void 0:e.includes("input"),o=null===(t=document.activeElement.id)||void 0===t?void 0:t.includes("select"),i=null===(n=document.activeElement.id)||void 0===n?void 0:n.includes("delete-button"),a=Z[Z.length-2];a&&(o||r||i)&&Object.keys(a).length&&ie(a)}}),[document.activeElement]),Pa((function(){var e,t=null===(e=fe.zoomToNode)||void 0===e?void 0:e.id;if(fe.zoomToNode&&t){if(se[0]==fe.zoomToNode.id)return;se[0]=t,pe(se),we(t)}}),[fe.zoomToNode]),Ca.createElement("div",{style:{width:"100%",height:"100%"}},Ca.createElement(Va,{onSelectionChange:j}),Ca.createElement("div",{style:{height:"100%"},ref:J},Ca.createElement(Fa,{nodeTypes:h,nodes:w,edges:b,onNodesChange:S,onEdgesChange:N,onConnectStart:be,onConnectEnd:Ee,onConnect:function(e){ie(),O(e)},onNodeDragStart:ge,onSelectionDragStart:ye,onNodesDelete:he,onEdgesDelete:xe,onNodeClick:A,style:i({cursor:"pointer",backgroundColor:"white"},I),onDragOver:ve,edgeTypes:g,fitView:!0,minZoom:.05,onInit:function(e){C(e)}},p?null:Ca.createElement(Ia,null),m?null:Ca.createElement(Wa,null),Oa(c,{takeSnapshot:ie,reactFlowWrapper:J}),R,Ca.createElement(Ua,null))))},Ga=Ca.memo(Ya((function(e){return Ca.createElement(ja,null,Ca.createElement(Za,i({},e)))}),{topics:["zoomToNode","flow/editor"]}));import{withTopics as Qa}from"react-topics";import{Project as $a,IndentationText as el,ScriptTarget as tl,ScriptKind as nl,LanguageVariant as rl}from"ts-morph";import ol from"deep-diff";var il=function(e){var t=e.dataNotify,n=void 0===t?function(){}:t,c=e.disableDots,s=void 0!==c&&c,p=e.bgColor,f=void 0===p?"white":p,m=e.onShowCode,v=void 0===m?function(){}:m,g=e.sourceCode,y=e.onSave,h=e.onPlay,x=e.onReload,b=e.disableStart,E=void 0!==b&&b,w=e.getFirstNode,k=e.customComponents,C=void 0===k?[]:k,D=e.hideBaseComponents,S=void 0!==D&&D,T=e.positions,N=e.topics,P=e.flowId,O=e.display,F=void 0===O||O,M=e.enableCommunicationInterface,z=void 0!==M&&M,R=e.children,L=e.showActionsBar,H=void 0!==L&&L,K=e.onSelectionChange,J=void 0===K?function(){}:K,_=e.onEdit,V=void 0===_?function(){}:_,X=function(e){return u(e).map((function(e){var t=i({},e);return delete t.height,delete t.width,t}))},U=N.data,Y=N.publish,Z=wi(q),G=bi(null),Q=Z((function(e){return e.setError})),$=Z((function(e){return e.clearError})),ee=Z((function(e){return e.setDataNotify})),te=Z((function(e){return e.initialEdges})),ne=Z((function(e){return e.setInitialEdges})),re=Z((function(e){return e.initialNodes})),oe=Z((function(e){return e.setInitialNodes})),ie=Z((function(e){return e.setSaveStatus})),ae=Z((function(e){return e.setNodeData})),le=Z((function(e){return e.setNodesData})),ue=Z((function(e){return e.clearNodesData})),ce=Z((function(e){return e.appendCustomComponents})),de=Z((function(e){return e.customComponents})),se=Z((function(e){return e.nodeData})),pe=Z((function(e){return e.menuState})),fe=hi((function(){return to}),[]),me=hi((function(){return{custom:ua}}),[]),ve=l(ki(re),3),ge=ve[0],ye=ve[1],he=ve[2],xe=l(Ci(te),3),be=xe[0],Ee=xe[1],we=xe[2],ke=l(Ei(!1),2),Ce=ke[0],De=ke[1],Se=l(Ei(Gi(se)),2),Te=Se[0],Ne=Se[1],Pe=yi((function(e){return Ee((function(t){return Di(a(i({},e),{type:"custom",animated:!1}),t)}))}),[Ee]),Oe=function(){var e=r((function(){var e,t,n,r,o,l,c,s,p,f,m;return d(this,(function(d){switch(d.label){case 0:return ue(),e=new $a({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:el.Tab},compilerOptions:{target:tl.Latest,scriptKind:nl.TSX,languageVariant:rl.JSX}}),t=e.createSourceFile("_temp1.tsx",g,{overwrite:!0}),n=function(e,t,r,o){if(!t(e))return r(e,o,[]);var i=[];return e.forEachChild((function(e){i=i.concat(n(e,t,r,[]))})),r(e,o,i)},r={},o=[],l={},s=n(t,(function(e){var t=fe[e.getKindName()];if(t){var n,r=null!==(n=t.type)&&void 0!==n?n:t;if(r.shadow||c||(c=B(e)),r.skipTraversal)return!1}return!0}),(function(e,t,n){var c,d,s=fe[e.getKindName()];if("CatchClause"!=(null===(c=e.getParent())||void 0===c?void 0:c.getKindName())||"VariableDeclaration"!=e.getKindName()){var p,f=!0;if(s){var m,v=null!==(m=s.type)&&void 0!==m?m:s;if(v.getData){var g,y=v.getData(e,r,l,o);y=a(i({},y),{_astNode:e}),l[B(e)]=y,r[B(e)]=y;var h=Lo({type:e.getKindName()},null!==(g=l[B(e)])&&void 0!==g?g:{},C);if(null==h?void 0:h.defaultProps){var x=JSON.parse(JSON.stringify(i({},h.defaultProps)));Object.keys(h.defaultProps).map((function(e){var t=Object.keys(y).find((function(t){var n;return y[t].key==(null===(n=x[e])||void 0===n?void 0:n.key)}));t&&(x[e].value=y[t].value)})),y=a(i({},y,x),{_defaultProps:h.defaultProps})}if(null==h?void 0:h.defaultFallbackProps){var b=JSON.parse(JSON.stringify(i({},h.defaultFallbackProps)));Object.keys(y).map((function(e){Object.keys(h.defaultFallbackProps).find((function(t){return e.startsWith(t)?delete b[t]:null}))})),y=a(i({},b,y),{_defaultFallbackProps:h.defaultFallbackProps})}ae(B(e),y),(null==h?void 0:h.nonDeletable)&&(f=!1)}if(v.getNodeValue&&(r[B(e)]={type:"data",value:v.getNodeValue(e,r,o)}),!v.shadow&&(!v.checkCreate||v.checkCreate(e,r))&&("SourceFile"!=e.getKindName()||!E)){var w=I([0,0],e.getKindName(),B(e),null,f,o,l[B(e)]);t=t.concat(w),r[B(e)]={type:"node",value:w[0]}}}r[B(e)]||(0==e.getChildren().length?r[B(e)]={type:"data",value:e.getText()}:r[B(e)]=e.forEachDescendant((function(e){return r[B(e)]})));var k=Lo(null===(d=r[B(e)])||void 0===d?void 0:d.value,null!==(p=l[B(e)])&&void 0!==p?p:{},C);k&&k.filterChildren&&ae(B(e),a(i({},l[B(e)]),{_initialNodes:n,_initialEdges:JSON.parse(JSON.stringify(o))}));var D=s&&s.type?s.type:s,S=u(t).concat(u(k&&k.filterChildren?k.filterChildren(e,n,o,l,ae):n));return D&&D.filterChildren?D.filterChildren(e,S,o,l,ae):S}}),[]).filter((function(e){return e})),[4,wa(JSON.parse(JSON.stringify(s)),o,null,T)];case 1:return p=d.sent(),f=p.nodes,m=p.edges,ne(m),oe(f),ye(f),Ee(m),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Fe=function(e){return ge.reduce((function(t,n){var r,o=Lo(n,null!==(r=e[n.id])&&void 0!==r?r:{},C);if(o&&o.restoreChildren){var i=o.restoreChildren(n,t.nodes,e[n.id]._initialNodes,t.edges,te,e);return i.nodeData||(i.nodeData=t.nodeData),i}return t}),{nodes:ge,edges:be,nodeData:e})},Ie=function(){var e=r((function(){var e,t,n,r,o,i,a,l,u,c,s,p,f,m;return d(this,(function(d){e=Fe(Object.assign({},se)),$();try{t=W(e.nodes,e.edges,e.nodeData,w||function(e){return e.find((function(e){return e.id&&e.id.startsWith("SourceFile")}))}),ne(e.edges),oe(e.nodes),n=ge.map((function(e){return{id:e.id,position:e.position}})),r=ta(t),o=r.getImportDeclarations(),i=function(e,t){var n,r,o,i=null===(n=e.filter((function(e){return"ImportDeclaration"==e.type})))||void 0===n?void 0:n.map((function(e){return e.id})),a=null===(r=e.filter((function(e){return["JsxElement","JsxSelfClosingElement"].includes(e.type)})))||void 0===r?void 0:r.map((function(e){return e.id})),l=[];i.map((function(e){var n=t[e],r=n.module;return Object.keys(n).forEach((function(e){("default"==e||e.startsWith("import-"))&&l.push(n[e])})),{names:[],module:r}}));var u=new Set;a.forEach((function(e){return u.add(t[e].name)}));var c=null===(o=Array.from(u))||void 0===o?void 0:o.filter((function(e){return!l.includes(e)})).map((function(e){return{name:e,module:"baseapp/palettes/uikit/"+e}}));return c}(ge,se),i.length&&(a=i.reduce((function(e,t){return e+("import "+t.name+' from "'+t.module+'";\n')}),"\n"),l=o?o[o.length-1].getEnd():0,u=r.insertText(l,a),t=u.getText()),y&&(null==ge?void 0:ge.length)&&y(t,n)}catch(e){c=e.codeFrame.split("\n").find((function(e){return e.startsWith("> ")})).split("|"),c.shift(),s=e.loc.start.column,p=c.join("|").substr(1,s),f=p.lastIndexOf("/* JSFLOWID("),m=p.substring(f+"/* JSFLOWID(".length).split(")")[0],ie("error"),Q(m)}return[2,t]}))}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=r((function(){var e,t;return d(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Ie()];case 1:return e=n.sent(),h&&h(e),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=r((function(){return d(this,(function(e){switch(e.label){case 0:return[4,Ee([])];case 1:return e.sent(),[4,ye([])];case 2:return e.sent(),x?x():Oe(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Be=function(e,t){if(z){var n,r,l=t.nodeId,u=t.param,c=t.value;switch(e){case"delete-node":var d,s,p=t,f=p.map((function(e){return e.id})),m=be.find((function(e){return f.includes(e.source)}));n=null==m?void 0:m.target;var v=m?null===(d=ge.find((function(e){return e.id==m.source})))||void 0===d?void 0:d.type:null===(s=p.find((function(e){return e.id==f[0]})))||void 0===s?void 0:s.type;if(r={action:"delete-node",nodesToDelete:f,deletedNodeType:v},"JsxElement"==v){var g=m?Number(m.targetHandle.split("child-")[1]):null;if(se[n]){var y=qi(se[n],g).data;le(a(i({},se),o({},n,y)))}else le(i({},se));var h=Number(null==m?void 0:m.targetHandle.split("child-")[1]),x=Ui(be,f[0],n,h);Ee(x)}Y("flow/editor",r);break;case"delete-data":Y("flow/editor",r={action:"delete-data",nodeId:l,param:u});break;case"add-node":var b,E=t.newEdge,w=t.initialData,k=w.name,C=null===(b=t.node)||void 0===b?void 0:b.type;l=t.node.id,n=E.target,u=E.targetHandle.split(n+"-")[1];var D=a(i({},se),o({},l,i({},w)));r=a(i({},r),{action:"add-node",nodeId:l,type:C,nodeName:k,parent:n});var S=Qi(ge,be.concat(E),D,l,C);if("JsxElement"==C){var T=(null==u?void 0:u.startsWith("child"))?Number(u.split("child-")[1]):void 0;r=a(i({},r),{childrenPos:T-1}),D=a(i({},D),o({},n,a(i({},D[n]),o({},"child-"+T,S)))),le(D)}else{var N,P,O=E.targetHandle.split(n)[1],F=O.slice(0,1),I=O.slice(1),W=D[n];if(F==A.flow){var j,B=null===(j=W._fallBack)||void 0===j?void 0:j.find((function(e){return e.fallbackPort==I&&e.portType==F})),M=(null==B?void 0:B.preText)+S+(null==B?void 0:B.postText),R=M.indexOf("=");if(-1===R)return;N=M.substring(0,R).trim(),P=M.substring(R+1).trim()}else if(F==A.data){var L=W[I];N=null==L?void 0:L.key,P=S}r=a(i({},r),{data:{isAncestorJsxElement:!0,key:N,value:P}})}Y("flow/editor",r);break;case"add-data":var H=Boolean(t.isProp);Y("flow/editor",r={action:"add-data",nodeId:l,param:u,value:c,isProp:H});break;case"edit-data":r={action:"edit-data",nodeId:l,param:u,value:c,deleteKey:t.deleteKey},Y("flow/editor",r);break;default:console.error("Communication sender error. Invalid action ".concat(e))}}},Ae=function(e){if(e)return e.startsWith("prop-")?e.split("prop-")[1]:e.startsWith("child-")?"children":e},Me=function(e){return be.find((function(t){return t.targetHandle==e}))},ze=function(){var e=Fe(Object.assign({},se));try{var t=W(e.nodes,e.edges,e.nodeData,w||function(e){return e.find((function(e){return e.id&&e.id.startsWith("SourceFile")}))});console.log("firing on edit"),V(t)}catch(e){}};return xi((function(){var e=Ni(X(te),X(be));Ni(X(re),X(ge))||e?(ze(),De(!0)):De(!1),ie(null)}),[be,ge,te,re]),xi((function(){ee(n)}),[n]),xi((function(){var e;(null===(e=U[P+"/play"])||void 0===e?void 0:e.ts)&&We()}),[U[P+"/play"]]),z&&xi((function(){var e=U[P+"/ui"];if(e){var t,n=e.nodeId;switch(e.action){case"delete-node":var r,l=null!==(r=e.deletedNodes)&&void 0!==r?r:[],c=e.parent,d=function(e,t,n,r,o){var a;r.forEach((function(t){e.includes(t.target)&&e.push(t.source)}));var l=r.filter((function(n){return e.includes(n.source)&&n.target==t})),u=i({},o);return a=r,l.forEach((function(e){var r=e?Number(e.targetHandle.split("child-")[1]):null;a=Ui(a,n,t,r);var i=qi(o[t],r).data;u[t]=i})),{updatedEdges:a,newNodeData:u}}(l,c,n,be,se),s=d.updatedEdges,p=d.newNodeData;Ee(s),le(p),ye((function(e){return e.filter((function(e){return!l.includes(e.id)}))}));break;case"add-node":var f,m=e.nodeName,v=e.parent,g=null===(f=ge.find((function(t){return t.id==e.parent})))||void 0===f?void 0:f.position;if(!g)return;var y=e.childrenPos+1,h=a(i({},se),o({},n,{name:m})),x=C.find((function(e){return e.id==m}));if(x){var b={};h=a(i({},h),o({},n,i({},h[n],Zi(x))))}var E=I([g.x+500,g.y],"JsxElement",e.nodeId,{},!0,{},b);ye((function(e){return e.concat(E)}));var w=Qi(ge,be,h,n,"JsxElement");h=a(i({},h),o({},v,i({},Xi(h[v],y,null!=w?w:'"children"')))),le(h),t=Yi(be,n,v,y),Ee(t);break;case"move-node":if(e.isSameParent){var k,D=e.parent,S=e.childrenIndexes,T=(k=Math).min.apply(k,u(S)),N=function(e,t,n){var r=i({},e);return t.forEach((function(t,o){r["child-"+(n+o+1)]=e["child-"+(t+1)]})),r}(i({},se[D]),S,T);ae(D,N);var O=function(e,t,n,r){var o=[];return e.forEach((function(e){var a=i({},e),l=a.targetHandle.split(t+"-child-")[1];a.targetHandle.startsWith(t+"-child-")&&-1!=r.findIndex((function(e){return e+1===Number(l)}))&&(a.targetHandle=t+"-child-"+(n+(r.findIndex((function(e){return e+1===Number(l)}))+1))),o.push(a)})),o}(be,D,T,S);Ee(O)}else{var F=e.oldParentId,W=e.oldPos+1,j=se[F],B=qi(j,W),A=B.data,M=B.deletedElementData,z=e.newParentId,R=se[z];if(!R)return;var L,H=Object.keys(R).filter((function(e){return e.startsWith("child-")})).length,K=-1==e.newPos?H+1:e.newPos+1,J=Xi(R,K,M);le(a(i({},se),(o(L={},F,A),o(L,z,J),L)));var _=Ui(be,n,F,W,z,K);Ee(_)}}}}),[U[P+"/ui"]]),xi((function(){C.length!=de.length&&ce(C),Oe()}),[g,C.length]),xi((function(){var e=Gi(se),t=Ni(Te,e);(null==t?void 0:t.length)&&(De(!0),function(){if(z){var e=Gi(se);if(Object.keys(Te).length){var t=ol.diff(Te,e);if(t&&!(t.length>1))if(t.find((function(e){return"E"==e.kind}))){var n,r=t.find((function(e){return"E"==e.kind})),o=r.path[0];if(!Te[o])return;var l=o+A.data+r.path[1];if(Boolean(Me(l)))return;var u,c,d=null===(n=ge.find((function(e){return e.id==o})))||void 0===n?void 0:n.type,s={nodeId:o};if("JsxElement"==d){var p;if("key"==r.path[2]){var f;c=r.rhs;var m=r.lhs,v=r.path[1];u=null===(f=se[o][v])||void 0===f?void 0:f.value,p=!0,s=a(i({},s),{deleteKey:m})}else{if(c=Ae(r.path[1]),!(u=r.rhs)||!c||"object"==typeof u)return;var g,y;(p=!c.includes("child"))&&(c=null!==(y=null===(g=se[o]["prop-"+c])||void 0===g?void 0:g.key)&&void 0!==y?y:c)}s=a(i({},s),{param:c,value:u,isProp:p})}else{var h=$i(o,be);if(h){c=h.split("-")[2],o=h.split("-")[0];var x=h.split("_")[0],b=ea(ge,be,se,o,x,c);s=a(i({},s),{nodeId:o,param:c,value:b,isProp:!0})}}Be("edit-data",s)}else if(t.find((function(e){return"N"==e.kind}))){var E,w=t.find((function(e){return"N"==e.kind})),k=w.path[0];if(!Te[k])return;var C,D=null===(E=ge.find((function(e){return e.id==k})))||void 0===E?void 0:E.type,S=w.path[1];if("JsxElement"==D){var T=w.rhs;"object"==typeof T&&(S=S.split("-")[0]+"-"+T.key,T=T.value),S=Ae(S);var N=k+A.data+w.path[1];if(Boolean(Me(N)))return;if(!T||!S)return;var P=!S.includes("child");C={nodeId:k,param:S,value:T,isProp:P}}else{var O=$i(k,be),F=null==O?void 0:O.indexOf("-");if(-1===F||!O)return;var I=O.slice(F+1),W=O.split("-")[0],j=O.split("_")[0],B=se[W][I].key;C={nodeId:W,param:B,value:ea(ge,be,se,W,j,B),isProp:!0}}Be("add-data",C)}else if(t.find((function(e){return"D"==e.kind}))){var M=t.find((function(e){return"D"==e.kind})),R=M.path[0],L=M.lhs.key;Be("delete-data",{nodeId:R,param:L})}}}}(),Ne(e),ze())}),[se]),gi.createElement("div",{ref:G,style:{height:"100%",width:"100%"}},F?gi.createElement(Ga,{onSelectionChange:function(e){return J(function(e){var t,n=null===(t=e[0])||void 0===t?void 0:t.type,r=["ObjectLiteralExpression","ArrowFunction","CallExpression"].includes(n)||e.length<=1;if(!e||!e.length||r)return g;var o=e[0];if(!o)return g;var i=to[o.type];return i.type&&(i=i.type),j(i.dump(o,ge,be,se))}(e),e)},nodeTypes:fe,nodes:ge,edges:be,onNodesChange:he,onEdgesChange:we,onNodesDelete:function(e){return Be("delete-node",e)},onConnect:Pe,edgeTypes:me,onInit:function(){},style:{backgroundColor:f},componentsMenu:"closed"!=pe?gi.createElement(ra,{edges:be,setNodes:ye,setEdges:Ee,setNodeData:ae,style:{position:"absolute",top:"0px",left:"0px"},hideBaseComponents:S,customComponents:C,onAddNode:function(e,t,n){return Be("add-node",{node:e,newEdge:t,initialData:n})}}):gi.createElement(gi.Fragment,null),disableDots:s,disableMiniMap:!0},R,H?gi.createElement(Si,{position:"top-center"},gi.createElement(ka,{onSave:y?Ie:null,onReload:x?je:null,onShowCode:v||null,hasChanges:Ce})):null):gi.createElement(gi.Fragment,null))},al=function(e){var t;return gi.createElement(q.Provider,{value:null!==(t=e.store)&&void 0!==t?t:V()},gi.createElement(il,i({},e)))},ll=function(e){return Qa(al,{topics:[e+"/play",e+"/ui"]})};import{Panel as ul}from"reactflow";export{Q as AddPropButton,Ro as BaseJSMasks,ua as CustomEdge,Ga as Diagram,fo as FallbackPort,ll as FlowFactory,mi as FlowPort,q as FlowStoreContext,pi as HandleOutput,vi as Node,fi as NodeParams,to as NodeTypes,A as PORT_TYPES,ul as Panel,S as connectNodes,I as createNode,yo as filterCallback,go as filterCallbackProp,F as generateId,B as getId,wa as getLayoutedElements,ri as isHandleConnected,ho as restoreCallback,xo as restoreCallbackProp,V as useFlowsStore};